2025-12-09 17:41:15.127 | INFO     | ReqID:8c719ecb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 17:41:15.230 | INFO     | ReqID:110790af | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 17:41:15.230 | INFO     | ReqID:e1d6ef50 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 17:41:15.230 | INFO     | ReqID:0c33440a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 17:41:15.231 | INFO     | ReqID:ad0c7f3b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 17:41:15.231 | SUCCESS  | ReqID:283b1456 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 17:41:31.055 | DEBUG    | ReqID:f14ff292 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 17:41:31.055 | SUCCESS  | ReqID:010e0766 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 17:41:31.055 | INFO     | ReqID:7658aee2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 17:41:41.992 | INFO     | ReqID:e40dece6 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 17:41:41.993 | INFO     | ReqID:e40dece6 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.002s]
2025-12-09 17:41:41.994 | INFO     | ReqID:e40dece6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34038 - "GET /docs HTTP/1.1" 200
2025-12-09 17:41:42.310 | INFO     | ReqID:92d29e2a | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 17:41:42.317 | INFO     | ReqID:92d29e2a | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.006s]
2025-12-09 17:41:42.317 | INFO     | ReqID:92d29e2a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34038 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 17:41:44.322 | INFO     | ReqID:87882039 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 17:41:44.614 | INFO     | ReqID:87882039 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[200] | Process Time[0.292s]
2025-12-09 17:41:44.615 | INFO     | ReqID:87882039 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34038 - "GET /infrastructure/all HTTP/1.1" 200
2025-12-09 17:42:43.157 | INFO     | ReqID:f2727ec1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 17:42:43.258 | INFO     | ReqID:920d632c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 17:42:43.259 | INFO     | ReqID:d9ca781c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 17:42:43.260 | INFO     | ReqID:1d72d407 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 17:42:43.928 | DEBUG    | ReqID:9bc149bf | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 17:42:43.929 | SUCCESS  | ReqID:a992a66d | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 17:42:43.929 | INFO     | ReqID:1f3d5d5a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 17:42:59.090 | INFO     | ReqID:a03e20a7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 17:42:59.192 | INFO     | ReqID:009bf4aa | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 17:42:59.193 | INFO     | ReqID:5983a783 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 17:42:59.193 | INFO     | ReqID:159490f5 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 17:43:00.196 | DEBUG    | ReqID:93cc8769 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 17:43:00.197 | SUCCESS  | ReqID:36678bd1 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 17:43:00.198 | INFO     | ReqID:090971a5 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 17:44:30.173 | INFO     | ReqID:58819dfd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 17:44:30.276 | INFO     | ReqID:382dcd79 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 17:44:30.277 | INFO     | ReqID:d576cbbb | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 17:44:30.277 | INFO     | ReqID:3bcef1f8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 17:44:31.080 | DEBUG    | ReqID:5462dc69 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 17:44:31.080 | SUCCESS  | ReqID:3a06a19a | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 17:44:31.081 | INFO     | ReqID:5d025ebd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 17:45:54.022 | INFO     | ReqID:385cc1d2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 17:45:54.125 | INFO     | ReqID:95c1314b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 17:45:54.125 | INFO     | ReqID:a45098f5 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 17:45:54.126 | INFO     | ReqID:e458b10a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 17:45:54.130 | INFO     | ReqID:423bc201 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 17:45:54.840 | DEBUG    | ReqID:e5209a2c | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 17:45:54.840 | SUCCESS  | ReqID:47b54600 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 17:45:54.840 | INFO     | ReqID:e371af26 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 17:45:56.340 | INFO     | ReqID:dc556d00 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 17:45:56.342 | INFO     | ReqID:dc556d00 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-09 17:45:56.342 | INFO     | ReqID:dc556d00 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:46056 - "GET /docs HTTP/1.1" 200
2025-12-09 17:45:56.592 | INFO     | ReqID:dc2e5f99 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 17:45:56.598 | INFO     | ReqID:dc2e5f99 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.006s]
2025-12-09 17:45:56.598 | INFO     | ReqID:dc2e5f99 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:46056 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 17:46:10.208 | INFO     | ReqID:365234f8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 17:46:10.309 | INFO     | ReqID:dc1b1e1d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 17:46:10.310 | INFO     | ReqID:f12879fe | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 17:46:10.310 | INFO     | ReqID:c7cd4b75 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 17:46:11.102 | DEBUG    | ReqID:f796b6a3 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 17:46:11.103 | SUCCESS  | ReqID:6d554e35 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 17:46:11.103 | INFO     | ReqID:c5516375 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 18:00:07.350 | INFO     | ReqID:5c47f827 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 18:00:07.451 | INFO     | ReqID:eb4c77cb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 18:00:07.453 | INFO     | ReqID:efdeb123 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 18:00:07.453 | INFO     | ReqID:589cd420 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 18:00:07.455 | INFO     | ReqID:2776f5be | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 18:00:07.455 | SUCCESS  | ReqID:89439867 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 18:00:07.456 | INFO     | ReqID:6f2897d8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 18:00:32.307 | DEBUG    | ReqID:cedabfd2 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 18:00:32.308 | SUCCESS  | ReqID:66a9be6c | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 18:00:32.308 | INFO     | ReqID:c2ae04ec | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 18:00:53.301 | INFO     | ReqID:43cab296 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 18:00:53.406 | INFO     | ReqID:310abb6e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 18:00:53.409 | INFO     | ReqID:c4763b72 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 18:00:53.413 | INFO     | ReqID:4b728f83 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 21:56:47.212 | DEBUG    | ReqID:273c22f7 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 21:56:47.213 | SUCCESS  | ReqID:6a88c93c | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 21:56:47.214 | INFO     | ReqID:8cab8686 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 21:56:58.770 | INFO     | ReqID:5ccaf3ee | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 21:56:58.874 | INFO     | ReqID:31ef83a8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 21:56:58.875 | INFO     | ReqID:ec84224f | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 21:56:58.878 | INFO     | ReqID:9017f4cf | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 21:56:58.889 | INFO     | ReqID:ebca69de | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 21:56:58.890 | SUCCESS  | ReqID:49880a5d | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 21:57:01.311 | DEBUG    | ReqID:10f2893e | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 21:57:01.314 | SUCCESS  | ReqID:6af5d080 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 21:57:01.315 | INFO     | ReqID:47087194 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 21:58:06.790 | INFO     | ReqID:445fac7f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 21:58:06.893 | INFO     | ReqID:e143268c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 21:58:06.896 | INFO     | ReqID:e4c23550 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 21:58:06.898 | INFO     | ReqID:69c04a1b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 21:58:06.903 | INFO     | ReqID:a4d863e8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 21:58:06.904 | SUCCESS  | ReqID:ce4e34dc | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 21:58:06.905 | INFO     | ReqID:2bf18bf2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 21:58:06.906 | INFO     | ReqID:400c2caa | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [22121]
2025-12-09 21:58:07.702 | DEBUG    | ReqID:b7c194fd | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 21:58:07.704 | SUCCESS  | ReqID:cc4d9efb | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 21:58:07.704 | INFO     | ReqID:052793f3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 21:58:09.313 | INFO     | ReqID:b1f2a440 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 21:58:09.416 | INFO     | ReqID:c0145a46 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 21:58:09.417 | INFO     | ReqID:5603a477 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 21:58:09.418 | INFO     | ReqID:c63138b3 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 21:58:10.277 | DEBUG    | ReqID:f147816b | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 21:58:10.277 | SUCCESS  | ReqID:3593e745 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 21:58:10.277 | INFO     | ReqID:fe27a8d9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 21:58:35.581 | INFO     | ReqID:3ef3e45a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 21:58:35.683 | INFO     | ReqID:81397f84 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 21:58:35.683 | INFO     | ReqID:ecbd64a1 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 21:58:35.684 | INFO     | ReqID:33c4ebf4 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 21:58:35.686 | INFO     | ReqID:4794f14b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 21:58:35.687 | SUCCESS  | ReqID:e237cf4a | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 21:58:35.687 | INFO     | ReqID:a6353720 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 21:58:35.688 | INFO     | ReqID:f989a91c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [22254]
2025-12-09 21:58:36.393 | DEBUG    | ReqID:293005f9 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 21:58:36.393 | SUCCESS  | ReqID:03de5f17 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 21:58:36.394 | INFO     | ReqID:69b90804 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 21:58:59.886 | INFO     | ReqID:dea12e3c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 21:58:59.987 | INFO     | ReqID:88cfccd9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 21:58:59.989 | INFO     | ReqID:e372c130 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 21:58:59.989 | INFO     | ReqID:64b65eaa | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 21:59:00.974 | DEBUG    | ReqID:d0f4a540 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 21:59:00.975 | SUCCESS  | ReqID:439fc7d1 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 21:59:00.976 | INFO     | ReqID:627ca00f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 21:59:06.313 | INFO     | ReqID:eec793df | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 21:59:06.314 | INFO     | ReqID:eec793df | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-09 21:59:06.315 | INFO     | ReqID:eec793df | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:38178 - "GET /docs HTTP/1.1" 200
2025-12-09 21:59:06.585 | INFO     | ReqID:6f6459b2 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 21:59:06.590 | INFO     | ReqID:6f6459b2 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.005s]
2025-12-09 21:59:06.590 | INFO     | ReqID:6f6459b2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:38178 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 21:59:09.577 | INFO     | ReqID:01fde0b0 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 21:59:09.652 | INFO     | ReqID:01fde0b0 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[200] | Process Time[0.074s]
2025-12-09 21:59:09.652 | INFO     | ReqID:01fde0b0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:38178 - "GET /infrastructure/all HTTP/1.1" 200
2025-12-09 22:07:11.763 | INFO     | ReqID:e79a7e7c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:07:11.864 | INFO     | ReqID:051378c0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:07:11.865 | INFO     | ReqID:966c2bbb | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:07:11.865 | INFO     | ReqID:35130d95 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:07:12.678 | DEBUG    | ReqID:8a4ec4c6 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:07:12.679 | SUCCESS  | ReqID:3ce2c201 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:07:12.679 | INFO     | ReqID:9cd0c9f8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:07:21.314 | INFO     | ReqID:b4517710 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:07:21.417 | INFO     | ReqID:753efce7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:07:21.418 | INFO     | ReqID:c610d42e | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:07:21.418 | INFO     | ReqID:3fb554ff | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:07:21.420 | INFO     | ReqID:c49ff189 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:07:21.420 | SUCCESS  | ReqID:9670ebe4 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:07:22.168 | DEBUG    | ReqID:ae15665d | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:07:22.169 | SUCCESS  | ReqID:35dd9c15 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:07:22.169 | INFO     | ReqID:5456b5da | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:07:25.717 | INFO     | ReqID:eae0c1a5 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:07:25.719 | INFO     | ReqID:eae0c1a5 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.002s]
2025-12-09 22:07:25.720 | INFO     | ReqID:eae0c1a5 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:40164 - "GET /docs HTTP/1.1" 200
2025-12-09 22:07:25.967 | INFO     | ReqID:e3b85dcc | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:07:25.973 | INFO     | ReqID:e3b85dcc | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.005s]
2025-12-09 22:07:25.973 | INFO     | ReqID:e3b85dcc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:40164 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 22:07:28.072 | INFO     | ReqID:e13c7139 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:07:28.139 | INFO     | ReqID:e13c7139 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[200] | Process Time[0.067s]
2025-12-09 22:07:28.140 | INFO     | ReqID:e13c7139 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:40164 - "GET /infrastructure/all HTTP/1.1" 200
2025-12-09 22:07:56.144 | INFO     | ReqID:834b3d2e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:07:56.245 | INFO     | ReqID:e24bafbc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:07:56.246 | INFO     | ReqID:1c181983 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:07:56.246 | INFO     | ReqID:c17ebc44 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:07:57.116 | DEBUG    | ReqID:cf0d78c5 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:07:57.116 | SUCCESS  | ReqID:48d49140 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:07:57.117 | INFO     | ReqID:7ebd0b8d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:07:57.939 | INFO     | ReqID:4d1ce926 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:07:57.940 | INFO     | ReqID:4d1ce926 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-09 22:07:57.941 | INFO     | ReqID:4d1ce926 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41710 - "GET /docs HTTP/1.1" 200
2025-12-09 22:07:58.239 | INFO     | ReqID:43e97888 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:07:58.244 | INFO     | ReqID:43e97888 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.005s]
2025-12-09 22:07:58.244 | INFO     | ReqID:43e97888 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41710 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 22:08:01.340 | INFO     | ReqID:59032555 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:08:01.393 | INFO     | ReqID:59032555 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[200] | Process Time[0.053s]
2025-12-09 22:08:01.393 | INFO     | ReqID:59032555 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41710 - "GET /infrastructure/all HTTP/1.1" 200
2025-12-09 22:09:02.876 | INFO     | ReqID:5f6cc6f8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:09:02.977 | INFO     | ReqID:3a333359 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:09:02.980 | INFO     | ReqID:291dc5f6 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:09:02.981 | INFO     | ReqID:972eadfc | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:09:04.428 | DEBUG    | ReqID:846de7dd | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:09:04.429 | SUCCESS  | ReqID:aa530a06 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:09:04.429 | INFO     | ReqID:c7d5edb8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:09:08.670 | INFO     | ReqID:f19faab8 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:09:08.737 | INFO     | ReqID:f19faab8 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[200] | Process Time[0.067s]
2025-12-09 22:09:08.737 | INFO     | ReqID:f19faab8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:45844 - "GET /infrastructure/all HTTP/1.1" 200
2025-12-09 22:11:13.749 | INFO     | ReqID:ef93820b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:11:13.850 | INFO     | ReqID:5f2b9b36 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:11:13.850 | INFO     | ReqID:24ddf9d8 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:11:13.851 | INFO     | ReqID:5ac14c9e | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:11:14.559 | DEBUG    | ReqID:7a5f8ce6 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:11:14.559 | SUCCESS  | ReqID:6cf3a709 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:11:14.560 | INFO     | ReqID:b6eba917 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:14:30.426 | INFO     | ReqID:727f3837 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:14:30.528 | INFO     | ReqID:39dd9f35 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:14:30.528 | INFO     | ReqID:bb8d84c6 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:14:30.528 | INFO     | ReqID:44584f9e | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:14:30.529 | INFO     | ReqID:e065a0ed | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:14:31.250 | DEBUG    | ReqID:b0d1b362 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:14:31.250 | SUCCESS  | ReqID:b5d0e1d4 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:14:31.250 | INFO     | ReqID:790d7581 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:14:32.556 | INFO     | ReqID:e923a248 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:14:32.658 | INFO     | ReqID:6c098b7f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:14:32.658 | INFO     | ReqID:d68c507b | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:14:32.658 | INFO     | ReqID:97ceee27 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:14:33.702 | DEBUG    | ReqID:54e332cf | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:14:33.703 | SUCCESS  | ReqID:8e762ad5 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:14:33.706 | INFO     | ReqID:219815b9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:14:37.621 | INFO     | ReqID:cf8b89ee | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:14:37.723 | INFO     | ReqID:9322c287 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:14:37.723 | INFO     | ReqID:78007eb7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:14:37.723 | INFO     | ReqID:30a33473 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:14:37.724 | INFO     | ReqID:684aab84 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:14:37.724 | SUCCESS  | ReqID:37185fc2 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:14:38.561 | DEBUG    | ReqID:2000f19f | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:14:38.561 | SUCCESS  | ReqID:17163617 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:14:38.563 | INFO     | ReqID:79a99105 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:17:54.476 | INFO     | ReqID:67588377 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:17:54.578 | INFO     | ReqID:11877ab7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:17:54.579 | INFO     | ReqID:5fc0afb7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:17:54.580 | INFO     | ReqID:914ac923 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:17:55.619 | DEBUG    | ReqID:75c5744e | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:17:55.619 | SUCCESS  | ReqID:27f44fc3 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:17:55.620 | INFO     | ReqID:89977252 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:18:27.349 | INFO     | ReqID:79dcf501 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:18:27.450 | INFO     | ReqID:98707c74 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:18:27.451 | INFO     | ReqID:5c0ecf7a | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:18:27.452 | INFO     | ReqID:7b8aa696 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:18:27.453 | INFO     | ReqID:f21316b7 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:18:27.454 | SUCCESS  | ReqID:ae9d7fdd | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:18:28.292 | DEBUG    | ReqID:2b5623f8 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:18:28.293 | SUCCESS  | ReqID:1b73ddfe | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:18:28.293 | INFO     | ReqID:66a5fa55 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:19:44.948 | INFO     | ReqID:f2c492b6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:19:45.051 | INFO     | ReqID:58fc2982 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:19:45.052 | INFO     | ReqID:3cca36bb | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:19:45.053 | INFO     | ReqID:3d6288b2 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:19:45.056 | INFO     | ReqID:8bec0d5e | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:19:45.056 | SUCCESS  | ReqID:374dc482 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:19:45.057 | INFO     | ReqID:5f543419 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 22:19:45.057 | INFO     | ReqID:f7b89011 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [23773]
2025-12-09 22:19:45.920 | DEBUG    | ReqID:e5b8482a | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:19:45.920 | SUCCESS  | ReqID:e16bfcc8 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:19:45.920 | INFO     | ReqID:33b35ca1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:19:47.930 | INFO     | ReqID:9059e0d7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:19:48.032 | INFO     | ReqID:ba36200d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:19:48.033 | INFO     | ReqID:cf354b04 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:19:48.033 | INFO     | ReqID:49618a3a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:19:48.036 | INFO     | ReqID:a7e74e31 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:19:49.653 | DEBUG    | ReqID:f8d32874 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:19:49.653 | SUCCESS  | ReqID:1c592e45 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:19:49.654 | INFO     | ReqID:630e2f0f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:20:50.085 | INFO     | ReqID:607daf3e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:20:50.186 | INFO     | ReqID:1d0a4ca3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:20:50.188 | INFO     | ReqID:75aed177 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:20:50.188 | INFO     | ReqID:a16758b9 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:20:51.184 | DEBUG    | ReqID:180760ae | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:20:51.184 | SUCCESS  | ReqID:7619fbac | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:20:51.185 | INFO     | ReqID:51754d69 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:20:57.616 | INFO     | ReqID:90d69faf | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:20:57.717 | INFO     | ReqID:71a5f15f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:20:57.719 | INFO     | ReqID:b851216e | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:20:57.720 | INFO     | ReqID:3f0c3142 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:20:59.091 | DEBUG    | ReqID:fab5d453 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:20:59.091 | SUCCESS  | ReqID:8e335280 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:20:59.092 | INFO     | ReqID:bda8bdb2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:21:05.086 | INFO     | ReqID:9289b652 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:21:05.087 | INFO     | ReqID:9289b652 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-09 22:21:05.088 | INFO     | ReqID:9289b652 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:53854 - "GET /docs HTTP/1.1" 200
2025-12-09 22:21:05.579 | INFO     | ReqID:cb2e38af | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:21:05.588 | INFO     | ReqID:cb2e38af | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.009s]
2025-12-09 22:21:05.589 | INFO     | ReqID:cb2e38af | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:53854 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 22:21:07.793 | INFO     | ReqID:327669bf | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:21:07.862 | ERROR    | ReqID:327669bf | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | Error fetching data from database - (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
[SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
FROM v_infra_vmss]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:21:07.863 | INFO     | ReqID:327669bf | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.070s]
2025-12-09 22:21:07.864 | INFO     | ReqID:327669bf | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:53854 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:22:32.696 | INFO     | ReqID:f9545de9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:22:32.797 | INFO     | ReqID:1efa1535 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:22:32.799 | INFO     | ReqID:e57b47a9 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:22:32.799 | INFO     | ReqID:0f08ccdb | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:22:33.611 | DEBUG    | ReqID:56a8c0ea | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:22:33.612 | SUCCESS  | ReqID:2a49e450 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:22:33.612 | INFO     | ReqID:2a1f40f7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:22:36.623 | INFO     | ReqID:b3c3ca0f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:22:36.686 | ERROR    | ReqID:b3c3ca0f | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | Error fetching data from database:
 (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
[SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
FROM v_infra_vmss]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:22:36.688 | INFO     | ReqID:b3c3ca0f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.065s]
2025-12-09 22:22:36.689 | INFO     | ReqID:b3c3ca0f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:47684 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:26:12.572 | INFO     | ReqID:2fa75123 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:26:12.673 | INFO     | ReqID:0c4ff5d5 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:26:12.674 | INFO     | ReqID:2d52db72 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:26:12.676 | INFO     | ReqID:16a55bbb | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:26:12.679 | INFO     | ReqID:342b7c81 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:26:12.681 | SUCCESS  | ReqID:04c32410 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:26:15.184 | DEBUG    | ReqID:dbad6d4f | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:26:15.185 | SUCCESS  | ReqID:acea3a9f | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:26:15.186 | INFO     | ReqID:7f28e7f3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:26:27.159 | INFO     | ReqID:c8f0ee4e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:26:27.260 | INFO     | ReqID:b9e702b8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:26:27.265 | INFO     | ReqID:b14c2262 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:26:27.266 | INFO     | ReqID:d554e799 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:26:27.278 | INFO     | ReqID:7f02e8e6 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:26:27.283 | SUCCESS  | ReqID:7cc95038 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:26:27.288 | INFO     | ReqID:f026a045 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 22:26:27.289 | INFO     | ReqID:d29425fc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [24496]
2025-12-09 22:26:29.143 | DEBUG    | ReqID:3cdbfea7 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[167] | Uvicorn logging configured to use Loguru.
2025-12-09 22:26:29.144 | SUCCESS  | ReqID:d90589ac | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:26:29.144 | INFO     | ReqID:4576f7ac | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:26:41.208 | INFO     | ReqID:3e56ef25 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:26:41.310 | INFO     | ReqID:6fad4c68 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:26:41.311 | INFO     | ReqID:9f08b21a | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:26:41.311 | INFO     | ReqID:3c698398 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[182] | Shutting down logger...
2025-12-09 22:26:42.375 | DEBUG    | ReqID:e0307ecc | Uvicorn logging configured to use Loguru.2025-12-09 22:26:42.376 | SUCCESS  | ReqID:803b9822 | Resources initialized.2025-12-09 22:26:42.377 | INFO     | ReqID:08545d87 | Application startup complete.2025-12-09 22:29:20.527 | INFO     | ReqID:d2a057c9 | Shutting down2025-12-09 22:29:20.630 | INFO     | ReqID:c3a9d246 | Waiting for application shutdown.2025-12-09 22:29:20.630 | INFO     | ReqID:2246e0bb | Cleaning up resources on app shutdown...2025-12-09 22:29:20.632 | INFO     | ReqID:064d190f | Shutting down logger...2025-12-09 22:29:20.637 | INFO     | ReqID:f24f6614 | Logger shutdown complete2025-12-09 22:29:38.193 | DEBUG    | ReqID:6f460c15 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:29:38.193 | SUCCESS  | ReqID:1f378f2d | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:29:38.194 | INFO     | ReqID:39e2533b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:30:02.000 | INFO     | ReqID:3e0aa61c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:30:02.105 | INFO     | ReqID:e3f6ab06 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:30:02.106 | INFO     | ReqID:d0406735 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:30:02.106 | INFO     | ReqID:bb65e4ff | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:30:02.107 | INFO     | ReqID:55622597 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:30:02.108 | SUCCESS  | ReqID:89d436e4 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:30:02.108 | INFO     | ReqID:8215b8b5 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 22:30:02.109 | INFO     | ReqID:1a76ff14 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [24846]
2025-12-09 22:30:02.972 | DEBUG    | ReqID:0aa68203 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:30:02.973 | SUCCESS  | ReqID:a2496b56 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:30:02.974 | INFO     | ReqID:519817b8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:30:05.096 | INFO     | ReqID:d5cf3c4e | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:30:05.163 | ERROR    | ReqID:d5cf3c4e | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | Error fetching data from database:
     (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
[SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
FROM v_infra_vmss]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:30:05.165 | INFO     | ReqID:d5cf3c4e | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.069s]
2025-12-09 22:30:05.166 | INFO     | ReqID:d5cf3c4e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:39490 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:30:18.336 | INFO     | ReqID:c98792bb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:30:18.438 | INFO     | ReqID:7ae4e392 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:30:18.439 | INFO     | ReqID:0b5f0ad6 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:30:18.439 | INFO     | ReqID:addd0781 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:30:19.168 | DEBUG    | ReqID:3acd284b | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:30:19.168 | SUCCESS  | ReqID:5944d5fc | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:30:19.169 | INFO     | ReqID:7817aa6e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:30:20.373 | INFO     | ReqID:b106107e | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:30:20.490 | ERROR    | ReqID:b106107e | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | Error fetching data from database:
     (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
[SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
FROM v_infra_vmss]
(Background on this error at: https://sqlalche.me/e/20/f405)

2025-12-09 22:30:20.493 | INFO     | ReqID:b106107e | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.120s]
2025-12-09 22:30:20.494 | INFO     | ReqID:b106107e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:42958 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:31:41.218 | INFO     | ReqID:90d1b22a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:31:41.320 | INFO     | ReqID:063f6992 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:31:41.321 | INFO     | ReqID:a49f645e | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:31:41.321 | INFO     | ReqID:626df338 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:31:41.328 | INFO     | ReqID:183527df | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:31:41.329 | SUCCESS  | ReqID:0c3fa2da | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:31:41.329 | INFO     | ReqID:0922beaa | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 22:31:43.425 | DEBUG    | ReqID:c8977b4e | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:31:43.426 | SUCCESS  | ReqID:e58c4a34 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:31:43.426 | INFO     | ReqID:46bafae9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:31:49.256 | INFO     | ReqID:9ffb6464 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:31:49.306 | ERROR    | ReqID:9ffb6464 | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[35] | Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:31:49.308 | INFO     | ReqID:9ffb6464 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.051s]
2025-12-09 22:31:49.308 | INFO     | ReqID:9ffb6464 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:54074 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:33:29.492 | INFO     | ReqID:8dde9118 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:33:29.596 | INFO     | ReqID:9bb93d73 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:33:29.596 | INFO     | ReqID:e86f599d | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:33:29.597 | INFO     | ReqID:6cb58708 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:33:30.291 | DEBUG    | ReqID:94976dfb | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:33:30.292 | SUCCESS  | ReqID:8cf37120 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:33:30.292 | INFO     | ReqID:54762188 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:33:31.933 | INFO     | ReqID:7f01c949 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:33:31.987 | ERROR    | ReqID:7f01c949 | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:33:31.989 | INFO     | ReqID:7f01c949 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.056s]
2025-12-09 22:33:31.989 | INFO     | ReqID:7f01c949 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:55928 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:34:23.217 | INFO     | ReqID:a939debb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:34:23.318 | INFO     | ReqID:ba04cf70 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:34:23.319 | INFO     | ReqID:c2b7ecac | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:34:23.319 | INFO     | ReqID:740eb80d | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:34:23.982 | DEBUG    | ReqID:b10e0dc2 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:34:23.983 | SUCCESS  | ReqID:ea4d06a8 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:34:23.983 | INFO     | ReqID:9cb48d89 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:34:25.244 | INFO     | ReqID:c32b9e97 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:34:25.291 | ERROR    | ReqID:c32b9e97 | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | 
Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:34:25.292 | INFO     | ReqID:c32b9e97 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.048s]
2025-12-09 22:34:25.293 | INFO     | ReqID:c32b9e97 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:58972 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:34:48.693 | INFO     | ReqID:b5178ffd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:34:48.795 | INFO     | ReqID:0bcea487 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:34:48.795 | INFO     | ReqID:938754ca | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:34:48.796 | INFO     | ReqID:51a5887d | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:34:48.797 | INFO     | ReqID:902ac407 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:34:49.633 | DEBUG    | ReqID:f205397c | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:34:49.633 | SUCCESS  | ReqID:4470c7ae | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:34:49.634 | INFO     | ReqID:d50d7e69 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:34:49.976 | INFO     | ReqID:5bd6e56a | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:34:50.024 | ERROR    | ReqID:5bd6e56a | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | 
   Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:34:50.026 | INFO     | ReqID:5bd6e56a | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.050s]
2025-12-09 22:34:50.026 | INFO     | ReqID:5bd6e56a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:39554 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:34:58.678 | INFO     | ReqID:97d39f6b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:34:58.780 | INFO     | ReqID:bf63adbb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:34:58.780 | INFO     | ReqID:79feaa7e | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:34:58.780 | INFO     | ReqID:4ccb7c49 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:34:58.782 | INFO     | ReqID:3441a342 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:34:58.783 | SUCCESS  | ReqID:fd086af1 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:34:59.701 | DEBUG    | ReqID:dd50d8dd | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:34:59.702 | SUCCESS  | ReqID:92df72e8 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:34:59.702 | INFO     | ReqID:7d6f7bcd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:35:00.156 | INFO     | ReqID:2dabaccd | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:35:00.280 | ERROR    | ReqID:2dabaccd | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | 
   Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:35:00.282 | INFO     | ReqID:2dabaccd | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.126s]
2025-12-09 22:35:00.284 | INFO     | ReqID:2dabaccd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:35924 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:35:15.820 | INFO     | ReqID:810ca7e9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:35:15.921 | INFO     | ReqID:211c8735 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:35:15.921 | INFO     | ReqID:4542a8f7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:35:15.922 | INFO     | ReqID:cc7c7bef | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:35:17.405 | DEBUG    | ReqID:b35b87d0 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:35:17.407 | SUCCESS  | ReqID:8dcac36b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:35:17.407 | INFO     | ReqID:cb097b79 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:35:17.475 | INFO     | ReqID:dadd32a3 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:35:17.573 | ERROR    | ReqID:dadd32a3 | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | 
    Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:35:17.575 | INFO     | ReqID:dadd32a3 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.100s]
2025-12-09 22:35:17.576 | INFO     | ReqID:dadd32a3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:37956 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:39:52.117 | INFO     | ReqID:57740f4b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:39:52.220 | INFO     | ReqID:46e56d59 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:39:52.221 | INFO     | ReqID:54f282d6 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:39:52.221 | INFO     | ReqID:af6ce187 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:39:52.222 | INFO     | ReqID:40f4b4d5 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:39:53.024 | DEBUG    | ReqID:8f3c45a9 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:39:53.025 | SUCCESS  | ReqID:e358d684 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:39:53.025 | INFO     | ReqID:286a04b1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:39:53.227 | INFO     | ReqID:8ecff9b6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:39:53.329 | INFO     | ReqID:cf4ae26e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:39:53.330 | INFO     | ReqID:fc1b883f | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:39:53.330 | INFO     | ReqID:33bce11c | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:39:53.331 | INFO     | ReqID:a78befaa | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:39:53.332 | SUCCESS  | ReqID:45160916 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:39:54.061 | DEBUG    | ReqID:42c42278 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:39:54.062 | SUCCESS  | ReqID:d4607021 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:39:54.062 | INFO     | ReqID:69bb9230 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:40:35.424 | INFO     | ReqID:9fa45a87 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:40:35.525 | INFO     | ReqID:8e5ffd81 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:40:35.526 | INFO     | ReqID:d31f0598 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:40:35.527 | INFO     | ReqID:37f0bda3 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:40:35.530 | INFO     | ReqID:016643ef | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:40:35.533 | SUCCESS  | ReqID:13ddb5f4 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:40:35.533 | INFO     | ReqID:0446cee0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 22:40:36.982 | DEBUG    | ReqID:5773609a | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:40:36.983 | SUCCESS  | ReqID:0516595e | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:40:36.984 | INFO     | ReqID:72abe584 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:42:04.000 | INFO     | ReqID:dd9641d5 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:42:04.102 | INFO     | ReqID:8272fb42 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:42:04.105 | INFO     | ReqID:6bcb011d | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:42:04.107 | INFO     | ReqID:4529ee9a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:42:04.119 | INFO     | ReqID:ae3ac8a0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 22:42:04.122 | SUCCESS  | ReqID:f4264f33 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 22:42:04.127 | INFO     | ReqID:8b51c5f7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 22:42:04.130 | INFO     | ReqID:03056312 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [26693]
2025-12-09 22:42:06.507 | DEBUG    | ReqID:22435926 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:42:06.508 | SUCCESS  | ReqID:12c19230 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:42:06.508 | INFO     | ReqID:882c95ae | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:42:21.072 | INFO     | ReqID:4c9f90ac | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:42:21.161 | ERROR    | ReqID:4c9f90ac | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | 
    Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:42:21.164 | INFO     | ReqID:4c9f90ac | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.092s]
2025-12-09 22:42:21.165 | INFO     | ReqID:4c9f90ac | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:44068 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:42:26.452 | INFO     | ReqID:2b7f7c3e | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 22:42:26.456 | ERROR    | ReqID:2b7f7c3e | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[34] | 
    Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 22:42:26.457 | INFO     | ReqID:2b7f7c3e | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.005s]
2025-12-09 22:42:26.458 | INFO     | ReqID:2b7f7c3e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:59122 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 22:45:08.395 | INFO     | ReqID:c6c590b1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:45:08.496 | INFO     | ReqID:d93f19c6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:45:08.498 | INFO     | ReqID:2c262266 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:45:08.499 | INFO     | ReqID:7005d022 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:45:09.351 | DEBUG    | ReqID:ab502ac3 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:45:09.351 | SUCCESS  | ReqID:ef363711 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:45:09.352 | INFO     | ReqID:fe7f7737 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 22:45:40.375 | INFO     | ReqID:b0b497da | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 22:45:40.477 | INFO     | ReqID:4ee09a22 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 22:45:40.479 | INFO     | ReqID:e3d689dd | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 22:45:40.480 | INFO     | ReqID:8f7429b2 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 22:45:41.736 | DEBUG    | ReqID:47c550b5 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 22:45:41.737 | SUCCESS  | ReqID:554dff82 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 22:45:41.737 | INFO     | ReqID:6622098e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:00:05.732 | INFO     | ReqID:5a408336 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:00:05.834 | INFO     | ReqID:c9d87d67 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:00:05.837 | INFO     | ReqID:f24813f0 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:00:05.838 | INFO     | ReqID:45f9a20e | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:00:07.005 | DEBUG    | ReqID:47d0bab4 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:00:07.005 | SUCCESS  | ReqID:d5d221ec | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:00:07.006 | INFO     | ReqID:39bd1cf7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:02:29.512 | INFO     | ReqID:4f1f4783 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:02:29.613 | INFO     | ReqID:687dc23a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:02:29.614 | INFO     | ReqID:8953ea40 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:02:29.614 | INFO     | ReqID:334f3ae2 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:02:29.620 | INFO     | ReqID:0bff2270 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:02:30.700 | DEBUG    | ReqID:e6f55461 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:02:30.700 | SUCCESS  | ReqID:38235c57 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:02:30.702 | INFO     | ReqID:ce299e58 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:02:45.170 | INFO     | ReqID:0967f145 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:02:45.274 | INFO     | ReqID:ef0080bb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:02:45.275 | INFO     | ReqID:b4d162fb | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:02:45.280 | INFO     | ReqID:bf7b84c6 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:02:45.287 | INFO     | ReqID:b0239aef | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:02:46.775 | DEBUG    | ReqID:10625f19 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:02:46.776 | SUCCESS  | ReqID:28782143 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:02:46.776 | INFO     | ReqID:867fce45 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:02:53.807 | INFO     | ReqID:fc0149ed | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:02:53.912 | INFO     | ReqID:e2295f3e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:02:53.912 | INFO     | ReqID:82e6aca1 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:02:53.913 | INFO     | ReqID:8385e10b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:02:53.914 | INFO     | ReqID:98952f0e | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:02:53.915 | SUCCESS  | ReqID:f4e4de1d | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 23:02:54.994 | DEBUG    | ReqID:d74bcb14 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:02:54.994 | SUCCESS  | ReqID:7d45067b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:02:54.995 | INFO     | ReqID:66c47231 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:03:33.765 | INFO     | ReqID:e9630179 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:03:33.866 | INFO     | ReqID:5d201955 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:03:33.866 | INFO     | ReqID:f5168011 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:03:33.867 | INFO     | ReqID:18d4608e | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:03:35.113 | DEBUG    | ReqID:9351510e | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:03:35.114 | SUCCESS  | ReqID:a2ef4fd5 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:03:35.115 | INFO     | ReqID:54fb524f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:04:04.337 | INFO     | ReqID:1bc91989 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:04:04.438 | INFO     | ReqID:63ccac26 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:04:04.439 | INFO     | ReqID:9416170a | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:04:04.439 | INFO     | ReqID:c1ce5f87 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:04:05.250 | DEBUG    | ReqID:ce3b6440 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:04:05.250 | SUCCESS  | ReqID:1c716752 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:04:05.252 | INFO     | ReqID:f44f3793 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:04:54.071 | INFO     | ReqID:0b20da56 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:04:54.172 | INFO     | ReqID:ff00f446 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:04:54.173 | INFO     | ReqID:c590b2bf | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:04:54.174 | INFO     | ReqID:92cf483a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:04:54.176 | INFO     | ReqID:1409a2c6 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:04:55.269 | DEBUG    | ReqID:443146ed | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:04:55.270 | SUCCESS  | ReqID:d0750ff0 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:04:55.270 | INFO     | ReqID:4be8b208 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:04:56.432 | INFO     | ReqID:80c61bfa | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:04:56.434 | INFO     | ReqID:80c61bfa | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-09 23:04:56.434 | INFO     | ReqID:80c61bfa | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34626 - "GET /docs HTTP/1.1" 200
2025-12-09 23:04:57.016 | INFO     | ReqID:e862b2f3 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:04:57.030 | INFO     | ReqID:e862b2f3 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.014s]
2025-12-09 23:04:57.033 | INFO     | ReqID:e862b2f3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34626 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 23:05:01.157 | INFO     | ReqID:b535e2cd | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:05:01.209 | ERROR    | ReqID:b535e2cd | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[35] | 
    Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 23:05:01.211 | INFO     | ReqID:b535e2cd | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.054s]
2025-12-09 23:05:01.211 | INFO     | ReqID:b535e2cd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34626 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 23:05:36.347 | INFO     | ReqID:b074bb3d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:05:36.449 | INFO     | ReqID:4f62ded7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:05:36.450 | INFO     | ReqID:9d159a40 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:05:36.452 | INFO     | ReqID:7ed7f227 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:05:36.454 | INFO     | ReqID:17ff7c17 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:05:36.455 | SUCCESS  | ReqID:b07aa3e3 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 23:05:37.469 | DEBUG    | ReqID:a1a50116 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:05:37.470 | SUCCESS  | ReqID:0a44211e | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:05:37.470 | INFO     | ReqID:9842fe13 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:05:37.476 | INFO     | ReqID:4f4fa01e | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:05:37.477 | INFO     | ReqID:4f4fa01e | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-09 23:05:37.477 | INFO     | ReqID:4f4fa01e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:58182 - "GET /docs HTTP/1.1" 200
2025-12-09 23:05:37.870 | INFO     | ReqID:38cd6c27 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:05:37.876 | INFO     | ReqID:38cd6c27 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.006s]
2025-12-09 23:05:37.877 | INFO     | ReqID:38cd6c27 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:58182 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 23:05:39.489 | INFO     | ReqID:1e4b9c29 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:05:39.541 | ERROR    | ReqID:1e4b9c29 | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[35] | 
    Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 23:05:39.542 | INFO     | ReqID:1e4b9c29 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.053s]
2025-12-09 23:05:39.543 | INFO     | ReqID:1e4b9c29 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:58182 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 23:05:46.818 | INFO     | ReqID:375b9c0b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:05:46.922 | INFO     | ReqID:39845e25 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:05:46.924 | INFO     | ReqID:c6007254 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:05:46.924 | INFO     | ReqID:1c2dee40 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:05:46.925 | INFO     | ReqID:56f368b1 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:05:47.619 | DEBUG    | ReqID:b1ef12c5 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:05:47.620 | SUCCESS  | ReqID:1a37364c | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:05:47.620 | INFO     | ReqID:4d743d5d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:06:32.211 | INFO     | ReqID:ac07a79b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:06:32.315 | INFO     | ReqID:8eb6c95b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:06:32.317 | INFO     | ReqID:37bd4985 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:06:32.318 | INFO     | ReqID:1285bfc0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:06:33.566 | DEBUG    | ReqID:288a2d7d | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:06:33.566 | SUCCESS  | ReqID:0b7d31df | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:06:33.568 | INFO     | ReqID:c6fc2335 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:07:36.932 | INFO     | ReqID:bb0af337 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:07:37.035 | INFO     | ReqID:f800411d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:07:37.040 | INFO     | ReqID:4cbfb2e3 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:07:37.041 | INFO     | ReqID:834b3b7f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:07:37.044 | INFO     | ReqID:408f7d0b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:07:38.179 | DEBUG    | ReqID:d8cb0df7 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:07:38.181 | SUCCESS  | ReqID:561a7ac2 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:07:38.181 | INFO     | ReqID:72db21fd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:07:44.818 | INFO     | ReqID:c7be9000 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:07:44.921 | INFO     | ReqID:a3985093 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:07:44.923 | INFO     | ReqID:eafcc549 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:07:44.923 | INFO     | ReqID:40e09330 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:07:44.928 | INFO     | ReqID:08a933a7 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:07:44.929 | SUCCESS  | ReqID:054ba047 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 23:07:46.428 | DEBUG    | ReqID:069d76ac | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:07:46.428 | SUCCESS  | ReqID:905978d3 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:07:46.429 | INFO     | ReqID:61d95914 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:07:59.890 | INFO     | ReqID:461d9182 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:07:59.994 | INFO     | ReqID:aad3ace6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:07:59.994 | INFO     | ReqID:2df73e6d | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:07:59.994 | INFO     | ReqID:e2ded7ab | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:07:59.997 | INFO     | ReqID:c99ca48b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:08:01.690 | DEBUG    | ReqID:bf1d67d7 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:08:01.691 | SUCCESS  | ReqID:e64e6fca | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:08:01.699 | INFO     | ReqID:c96bc93a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:08:21.877 | INFO     | ReqID:59c4e7cb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:08:21.979 | INFO     | ReqID:cc135368 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:08:21.979 | INFO     | ReqID:9ec97546 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:08:21.980 | INFO     | ReqID:75d6cadb | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:08:21.981 | INFO     | ReqID:9eeb6618 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:08:21.981 | SUCCESS  | ReqID:fc73c107 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 23:08:21.981 | INFO     | ReqID:84b7f610 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 23:08:22.882 | DEBUG    | ReqID:ed3e2832 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:08:22.882 | SUCCESS  | ReqID:4b8f8c52 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:08:22.883 | INFO     | ReqID:a5ea0a35 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:09:08.388 | INFO     | ReqID:5f51a202 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:09:08.491 | INFO     | ReqID:1688e9ba | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:09:08.493 | INFO     | ReqID:f6ca3b70 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:09:08.493 | INFO     | ReqID:94ef4319 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:09:08.495 | INFO     | ReqID:65ade322 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:09:09.746 | DEBUG    | ReqID:4d4739d3 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:09:09.746 | SUCCESS  | ReqID:4d064cb8 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:09:09.747 | INFO     | ReqID:c6a80ccd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:09:49.932 | INFO     | ReqID:fad72a58 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:09:50.034 | INFO     | ReqID:96e5d51e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:09:50.034 | INFO     | ReqID:9aaaddb4 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:09:50.035 | INFO     | ReqID:f90ca26e | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:09:50.035 | INFO     | ReqID:4c5c6bb0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:09:50.036 | SUCCESS  | ReqID:7475b720 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 23:09:50.719 | DEBUG    | ReqID:036391fe | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:09:50.719 | SUCCESS  | ReqID:e8c0ef54 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:09:50.720 | INFO     | ReqID:22a9b705 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:10:17.732 | INFO     | ReqID:ec978cfc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:10:17.833 | INFO     | ReqID:1d398533 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:10:17.835 | INFO     | ReqID:c45e31a6 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:10:17.836 | INFO     | ReqID:c376cd10 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:10:17.837 | INFO     | ReqID:986bb1cc | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:10:17.838 | SUCCESS  | ReqID:5cd334a7 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 23:10:17.838 | INFO     | ReqID:c97c2e80 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 23:10:18.562 | DEBUG    | ReqID:db548dc3 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:10:18.563 | SUCCESS  | ReqID:3db67e4a | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:10:18.563 | INFO     | ReqID:8816c4b3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:11:44.120 | INFO     | ReqID:6c6b5d32 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:11:44.222 | INFO     | ReqID:f3e9f54e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:11:44.224 | INFO     | ReqID:8a9fe100 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:11:44.224 | INFO     | ReqID:98a23a57 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:11:46.264 | DEBUG    | ReqID:725cb25a | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:11:46.265 | SUCCESS  | ReqID:850d83e2 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:11:46.266 | INFO     | ReqID:091c3aac | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:11:53.334 | INFO     | ReqID:32d93a0c | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:11:53.336 | INFO     | ReqID:32d93a0c | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.003s]
2025-12-09 23:11:53.337 | INFO     | ReqID:32d93a0c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:57466 - "GET /docs HTTP/1.1" 200
2025-12-09 23:11:53.762 | INFO     | ReqID:7fcb77b1 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:11:53.772 | INFO     | ReqID:7fcb77b1 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.010s]
2025-12-09 23:11:53.772 | INFO     | ReqID:7fcb77b1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:57466 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 23:11:57.059 | INFO     | ReqID:cb88301c | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:11:57.121 | ERROR    | ReqID:cb88301c | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[35] | 
    Error:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 23:11:57.123 | INFO     | ReqID:cb88301c | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.063s]
2025-12-09 23:11:57.123 | INFO     | ReqID:cb88301c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:57466 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 23:12:08.704 | INFO     | ReqID:a89cb000 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:12:08.806 | INFO     | ReqID:11d1c448 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:12:08.807 | INFO     | ReqID:fed3b403 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:12:08.807 | INFO     | ReqID:4867e1c8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:12:08.809 | INFO     | ReqID:850e46cb | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:12:09.511 | DEBUG    | ReqID:17afab12 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:12:09.512 | SUCCESS  | ReqID:a8662801 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:12:09.512 | INFO     | ReqID:ccd0ab8c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:13:15.785 | INFO     | ReqID:aee72b94 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:13:15.887 | INFO     | ReqID:9e8aedda | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:13:15.888 | INFO     | ReqID:a234c9e6 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:13:15.889 | INFO     | ReqID:ecc732c0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:13:15.890 | INFO     | ReqID:34d0561a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:13:15.891 | SUCCESS  | ReqID:6d1c3532 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 23:13:15.891 | INFO     | ReqID:91e2658e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 23:13:15.891 | INFO     | ReqID:1089cbe8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [29354]
2025-12-09 23:13:16.738 | DEBUG    | ReqID:ed52b281 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:13:16.738 | SUCCESS  | ReqID:de5e9671 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:13:16.739 | INFO     | ReqID:e5e3974b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:13:20.808 | INFO     | ReqID:c27a48cd | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:13:20.810 | INFO     | ReqID:c27a48cd | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.003s]
2025-12-09 23:13:20.813 | INFO     | ReqID:c27a48cd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:45420 - "GET /docs HTTP/1.1" 200
2025-12-09 23:13:21.176 | INFO     | ReqID:b311adcf | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:13:21.189 | INFO     | ReqID:b311adcf | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.014s]
2025-12-09 23:13:21.190 | INFO     | ReqID:b311adcf | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:45420 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 23:13:23.287 | INFO     | ReqID:2e39fd98 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:13:23.354 | ERROR    | ReqID:2e39fd98 | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[36] | 
    Error fetching data from database::
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 23:13:23.358 | INFO     | ReqID:2e39fd98 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.071s]
2025-12-09 23:13:23.359 | INFO     | ReqID:2e39fd98 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:45420 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 23:13:37.531 | INFO     | ReqID:97edb9b8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:13:37.632 | INFO     | ReqID:95a3280c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:13:37.634 | INFO     | ReqID:d01bdf36 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:13:37.635 | INFO     | ReqID:b235b169 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:13:39.901 | DEBUG    | ReqID:8b6e842a | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:13:39.902 | SUCCESS  | ReqID:1b527d8d | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:13:39.902 | INFO     | ReqID:a66f3097 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:13:39.914 | INFO     | ReqID:4a3b047f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:13:39.916 | INFO     | ReqID:4a3b047f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.002s]
2025-12-09 23:13:39.916 | INFO     | ReqID:4a3b047f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41294 - "GET /docs HTTP/1.1" 200
2025-12-09 23:13:40.643 | INFO     | ReqID:9283265f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:13:40.657 | INFO     | ReqID:9283265f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.014s]
2025-12-09 23:13:40.658 | INFO     | ReqID:9283265f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41294 - "GET /openapi.json HTTP/1.1" 200
2025-12-09 23:13:43.109 | INFO     | ReqID:ae52206b | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-09 23:13:43.172 | ERROR    | ReqID:ae52206b | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[36] | 
    Error fetching data from database:
    (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "v_infra_vmss" does not exist
    [SQL: SELECT v_infra_vmss.vm_name, v_infra_vmss.fisc_wk, v_infra_vmss.fisc_yr, v_infra_vmss.cost, v_infra_vmss.role 
    FROM v_infra_vmss]
    (Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 23:13:43.174 | INFO     | ReqID:ae52206b | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.065s]
2025-12-09 23:13:43.174 | INFO     | ReqID:ae52206b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41294 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-09 23:14:29.817 | INFO     | ReqID:a80b385f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:14:29.918 | INFO     | ReqID:993b42f9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:14:29.919 | INFO     | ReqID:9a02e447 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:14:29.920 | INFO     | ReqID:fc17020a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:14:29.922 | INFO     | ReqID:44393558 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:14:29.923 | SUCCESS  | ReqID:ce9259b1 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 23:14:29.924 | INFO     | ReqID:05e61c6e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 23:14:29.924 | INFO     | ReqID:161a6ffb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [29550]
2025-12-09 23:14:31.072 | DEBUG    | ReqID:710ad300 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:14:31.072 | SUCCESS  | ReqID:93a12fd0 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:14:31.073 | INFO     | ReqID:aa0b1c53 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-09 23:15:13.255 | INFO     | ReqID:beacd8c7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-09 23:15:13.359 | INFO     | ReqID:3a7800ef | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-09 23:15:13.359 | INFO     | ReqID:fd2756ca | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-09 23:15:13.360 | INFO     | ReqID:f1aa60f7 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-09 23:15:13.361 | INFO     | ReqID:2b7699c7 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-09 23:15:13.361 | SUCCESS  | ReqID:e9efa9d4 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-09 23:15:13.362 | INFO     | ReqID:51c7a325 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-09 23:15:14.196 | DEBUG    | ReqID:92508c42 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-09 23:15:14.197 | SUCCESS  | ReqID:f5b511c6 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-09 23:15:14.197 | INFO     | ReqID:49db4d30 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-10 12:39:58.867 | DEBUG    | ReqID:8148bc18 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-10 12:39:58.867 | SUCCESS  | ReqID:1c66d17c | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-10 12:39:58.868 | INFO     | ReqID:4ab6fb56 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-10 12:40:02.559 | INFO     | ReqID:1e5fd9c9 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-10 12:40:02.560 | INFO     | ReqID:1e5fd9c9 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-10 12:40:02.560 | INFO     | ReqID:1e5fd9c9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:40736 - "GET /docs HTTP/1.1" 200
2025-12-10 12:40:02.918 | INFO     | ReqID:2adaaae8 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-10 12:40:02.924 | INFO     | ReqID:2adaaae8 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.006s]
2025-12-10 12:40:02.924 | INFO     | ReqID:2adaaae8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:40736 - "GET /openapi.json HTTP/1.1" 200
2025-12-10 12:40:47.561 | INFO     | ReqID:152e8888 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-10 12:40:47.662 | INFO     | ReqID:0bf1a21b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-10 12:40:47.664 | INFO     | ReqID:cf9c2f3c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-10 12:40:47.664 | INFO     | ReqID:1db6e0dc | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-10 12:40:47.665 | INFO     | ReqID:71e1e3f0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-10 12:40:47.665 | SUCCESS  | ReqID:234e8d4a | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-10 12:40:47.666 | INFO     | ReqID:050d4621 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-10 12:40:48.380 | DEBUG    | ReqID:1f33fc9e | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-10 12:40:48.381 | SUCCESS  | ReqID:9241dd3f | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-10 12:40:48.382 | INFO     | ReqID:72be8bbc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-10 12:40:57.621 | INFO     | ReqID:05e631bf | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-10 12:40:57.722 | INFO     | ReqID:6c4e34ac | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-10 12:40:57.724 | INFO     | ReqID:5a5a44c3 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-10 12:40:57.726 | INFO     | ReqID:65c6ee46 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-10 12:40:57.729 | INFO     | ReqID:90a220ce | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-10 12:40:57.731 | SUCCESS  | ReqID:99b0cd30 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-10 12:40:57.732 | INFO     | ReqID:94404763 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-10 12:40:58.993 | DEBUG    | ReqID:a00d6530 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-10 12:40:58.994 | SUCCESS  | ReqID:457ecea7 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-10 12:40:58.994 | INFO     | ReqID:602331ef | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-10 12:41:04.824 | INFO     | ReqID:9742b7c2 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-10 12:41:04.827 | INFO     | ReqID:9742b7c2 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.003s]
2025-12-10 12:41:04.830 | INFO     | ReqID:9742b7c2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:44938 - "GET /docs HTTP/1.1" 200
2025-12-10 12:41:05.093 | INFO     | ReqID:d34b3288 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-10 12:41:05.102 | INFO     | ReqID:d34b3288 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.009s]
2025-12-10 12:41:05.102 | INFO     | ReqID:d34b3288 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:44938 - "GET /openapi.json HTTP/1.1" 200
2025-12-10 12:52:45.001 | INFO     | ReqID:f149e331 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-10 12:52:45.103 | INFO     | ReqID:bc47bf73 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-10 12:52:45.104 | INFO     | ReqID:ef701230 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-10 12:52:45.104 | INFO     | ReqID:d1d5479f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-10 12:52:45.105 | INFO     | ReqID:b54b827c | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-10 12:52:45.105 | SUCCESS  | ReqID:e96f8007 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-10 12:52:45.955 | DEBUG    | ReqID:34b20a6e | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-10 12:52:45.955 | SUCCESS  | ReqID:5ec2431f | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-10 12:52:45.956 | INFO     | ReqID:919be926 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-10 12:52:48.958 | INFO     | ReqID:7851f62d | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-10 12:52:48.959 | INFO     | ReqID:7851f62d | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-10 12:52:48.959 | INFO     | ReqID:7851f62d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:57152 - "GET /docs HTTP/1.1" 200
2025-12-10 12:52:49.234 | INFO     | ReqID:39696484 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-10 12:52:49.241 | INFO     | ReqID:39696484 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.007s]
2025-12-10 12:52:49.241 | INFO     | ReqID:39696484 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:57152 - "GET /openapi.json HTTP/1.1" 200
2025-12-10 12:58:41.368 | INFO     | ReqID:6a1b96c1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-10 12:58:41.468 | INFO     | ReqID:218bd540 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-10 12:58:41.470 | INFO     | ReqID:87a693ca | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-10 12:58:41.470 | INFO     | ReqID:404a7671 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-10 12:58:42.204 | DEBUG    | ReqID:a2f33a56 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-10 12:58:42.204 | SUCCESS  | ReqID:0bad41dd | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-10 12:58:42.204 | INFO     | ReqID:cc0b3400 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-10 13:00:45.219 | INFO     | ReqID:e9aa62b2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-10 13:00:45.320 | INFO     | ReqID:01100f65 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-10 13:00:45.320 | INFO     | ReqID:09c098b8 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-10 13:00:45.320 | INFO     | ReqID:f785b7f1 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-10 13:00:45.321 | INFO     | ReqID:53b973b8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-10 13:00:45.322 | SUCCESS  | ReqID:c1f1dac3 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-10 13:08:08.346 | DEBUG    | ReqID:4f7b646d | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-10 13:08:08.347 | SUCCESS  | ReqID:51c9e6b5 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-10 13:08:08.347 | INFO     | ReqID:f25701ec | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-10 13:08:12.059 | INFO     | ReqID:1560bde1 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-10 13:08:12.060 | INFO     | ReqID:1560bde1 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-10 13:08:12.061 | INFO     | ReqID:1560bde1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:59830 - "GET /docs HTTP/1.1" 200
2025-12-10 13:08:12.435 | INFO     | ReqID:312b6af0 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-10 13:08:12.449 | INFO     | ReqID:312b6af0 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.014s]
2025-12-10 13:08:12.450 | INFO     | ReqID:312b6af0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:59830 - "GET /openapi.json HTTP/1.1" 200
2025-12-10 13:08:23.441 | INFO     | ReqID:b7d5a7ad | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vm] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-10 13:08:23.451 | INFO     | ReqID:b7d5a7ad | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:42256 - "POST /infrastructure/vm HTTP/1.1" 500
2025-12-10 13:08:23.452 | ERROR    | ReqID:b7d5a7ad | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x712438d34500>
  |                      <function create_task_group at 0x71243af2c540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71243b88c3e0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x71243b8d90d0>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71243b88c3e0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x71243c2d6720>
    |            <fastapi.applications.FastAPI object at 0x71243b8d90d0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x712438d22660>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x71243968fbc0>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x71243c2d6720>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x71243ab14b80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x712439663c60>
    |      <contextlib._GeneratorContextManager object at 0x712438d345c0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x712438d22200>
    |                                        <starlette.middleware.base._CachedRequest object at 0x712438cfba70>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x71243968fbc0>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x71243968fbc0>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x71243968bd80>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x71243c5e1940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x71243c6bbc40>
            <SpawnProcess name='SpawnProcess-11' parent=8144 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x71243c6bb1a0>
     <SpawnProcess name='SpawnProcess-11' parent=8144 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x71243b989970>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-11' parent=8144 started>
                     ()
                 <SpawnProcess name='SpawnProcess-11' parent=8144 started>
         <function subprocess_started at 0x71243b809940>
     <SpawnProcess name='SpawnProcess-11' parent=8144 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x71243b85a2d0>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x71243b994a40>
                                                                  <uvicorn.config.Config object at 0x71243b989970>
                                                              <uvicorn.server.Server object at 0x71243b85a2d0>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x71243b808b80>
                       <uvicorn.server.Server object at 0x71243b85a2d0>
            <function run at 0x71243bb12b60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x71243c654120>
                  <function Runner.run at 0x71243bb762a0>
            <asyncio.runners.Runner object at 0x71243b85a0f0>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x71243bb6fec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x71243b85a0f0>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x71243bb6fe20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x71243bb75c60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x71243c3c6160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71243b88c3e0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x71243b8d90d0>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x71243b88c3e0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x71243c2d6720>
           <fastapi.applications.FastAPI object at 0x71243b8d90d0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x712438d22660>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x712438d34830>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x71243968fbc0>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x71243c2d6720>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x71243ab14b80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x712439663c60>
     <contextlib._GeneratorContextManager object at 0x712438d345c0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x712438d22200>
                                       <starlette.middleware.base._CachedRequest object at 0x712438cfba70>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x71243968fbc0>>
                      <app.middleware.logging.LoggingMiddleware object at 0x71243968fbc0>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x71243968bd80>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-10 14:36:39.762 | INFO     | ReqID:7c36d57c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-10 14:36:39.863 | INFO     | ReqID:d8491c40 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-10 14:36:39.866 | INFO     | ReqID:8f3c8875 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-10 14:36:39.866 | INFO     | ReqID:63c31f79 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-10 14:36:39.871 | INFO     | ReqID:6de7db72 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-10 14:36:39.872 | SUCCESS  | ReqID:816c64ad | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-10 14:36:39.873 | INFO     | ReqID:20069e0d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-10 14:36:39.873 | INFO     | ReqID:e763256a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [10150]
2025-12-10 14:36:40.621 | DEBUG    | ReqID:c4c77239 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-10 14:36:40.621 | SUCCESS  | ReqID:be573bf8 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-10 14:36:40.622 | INFO     | ReqID:e59c1dc4 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-10 14:51:58.661 | INFO     | ReqID:30063e3f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-10 14:51:58.762 | INFO     | ReqID:795502d0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-10 14:51:58.762 | INFO     | ReqID:d7e9c2b7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-10 14:51:58.762 | INFO     | ReqID:5994388c | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-10 14:52:06.280 | DEBUG    | ReqID:908dc314 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-10 14:52:06.281 | SUCCESS  | ReqID:696bfd82 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-10 14:52:06.281 | INFO     | ReqID:204f560d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-10 15:02:47.107 | INFO     | ReqID:c7427220 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-10 15:02:47.208 | INFO     | ReqID:0ecc43dd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-10 15:02:47.209 | INFO     | ReqID:e82a66ff | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-10 15:02:47.210 | INFO     | ReqID:c070ab95 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-10 15:02:47.211 | INFO     | ReqID:0e9dfd89 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-10 15:03:13.124 | DEBUG    | ReqID:8698b508 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-10 15:03:13.125 | SUCCESS  | ReqID:aef69129 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-10 15:03:13.125 | INFO     | ReqID:0b5ec789 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-10 15:03:33.004 | INFO     | ReqID:c0f96a2b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-10 15:03:33.105 | INFO     | ReqID:f3091095 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-10 15:03:33.106 | INFO     | ReqID:e1dca92b | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-10 15:03:33.106 | INFO     | ReqID:3eb377e0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-10 15:03:39.860 | DEBUG    | ReqID:5d0fb3bd | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-10 15:03:39.861 | SUCCESS  | ReqID:5b464f41 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-10 15:03:39.862 | INFO     | ReqID:e5b9e575 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:06:36.526 | DEBUG    | ReqID:6f040d94 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:06:36.527 | SUCCESS  | ReqID:46fbbca1 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:06:36.527 | INFO     | ReqID:0ff61e29 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:06:41.255 | INFO     | ReqID:f10fc100 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 20:06:41.256 | INFO     | ReqID:f10fc100 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-11 20:06:41.257 | INFO     | ReqID:f10fc100 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34702 - "GET /docs HTTP/1.1" 200
2025-12-11 20:06:41.515 | INFO     | ReqID:1740169a | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 20:06:41.522 | INFO     | ReqID:1740169a | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.007s]
2025-12-11 20:06:41.523 | INFO     | ReqID:1740169a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34702 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 20:06:49.303 | INFO     | ReqID:1b9eeb29 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:06:49.404 | INFO     | ReqID:2aa15abd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:06:49.407 | INFO     | ReqID:411ea905 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:06:49.410 | INFO     | ReqID:dfe78974 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:06:49.416 | INFO     | ReqID:c118edaa | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:06:49.417 | SUCCESS  | ReqID:0a49c3bb | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 20:06:49.418 | INFO     | ReqID:34504dc1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 20:06:51.438 | DEBUG    | ReqID:7682e7bb | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:06:51.440 | SUCCESS  | ReqID:ed07e917 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:06:51.442 | INFO     | ReqID:aa1d7373 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:06:51.461 | INFO     | ReqID:94d9c012 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 20:06:51.464 | INFO     | ReqID:94d9c012 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.004s]
2025-12-11 20:06:51.466 | INFO     | ReqID:94d9c012 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:37868 - "GET /docs HTTP/1.1" 200
2025-12-11 20:06:52.644 | INFO     | ReqID:fac1eca4 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 20:06:52.663 | INFO     | ReqID:fac1eca4 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.020s]
2025-12-11 20:06:52.665 | INFO     | ReqID:fac1eca4 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:37868 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 20:07:05.769 | INFO     | ReqID:27ec9d4a | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vm] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 20:07:05.771 | INFO     | ReqID:27ec9d4a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:55230 - "POST /infrastructure/vm?vm=vm_1&vm=string HTTP/1.1" 500
2025-12-11 20:07:05.771 | ERROR    | ReqID:27ec9d4a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x72bdaaf0bec0>
  |                      <function create_task_group at 0x72bdad12c540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72bdada8c3e0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x72bdacbf4110>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72bdada8c3e0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x72bdab87b350>
    |            <fastapi.applications.FastAPI object at 0x72bdacbf4110>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x72bdaaf26160>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x72bdab87b6b0>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x72bdab87b350>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x72bdacd14b80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x72bdab847d30>
    |      <contextlib._GeneratorContextManager object at 0x72bdaaf0bbf0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x72bdaaf25e40>
    |                                        <starlette.middleware.base._CachedRequest object at 0x72bdaaedd190>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x72bdab87b6b0>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x72bdab87b6b0>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x72bdab87de40>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x72bdae7e1940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x72bdae8bbc40>
            <SpawnProcess name='SpawnProcess-3' parent=7391 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x72bdae8bb1a0>
     <SpawnProcess name='SpawnProcess-3' parent=7391 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x72bdadb89970>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-3' parent=7391 started>
                     ()
                 <SpawnProcess name='SpawnProcess-3' parent=7391 started>
         <function subprocess_started at 0x72bdada09940>
     <SpawnProcess name='SpawnProcess-3' parent=7391 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x72bdada5a2d0>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x72bdadb94a40>
                                                                  <uvicorn.config.Config object at 0x72bdadb89970>
                                                              <uvicorn.server.Server object at 0x72bdada5a2d0>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x72bdada08b80>
                       <uvicorn.server.Server object at 0x72bdada5a2d0>
            <function run at 0x72bdadd12b60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x72bdae854120>
                  <function Runner.run at 0x72bdadd762a0>
            <asyncio.runners.Runner object at 0x72bdada5a0f0>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x72bdadd6fec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x72bdada5a0f0>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x72bdadd6fe20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x72bdadd75c60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x72bdae5c6160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72bdada8c3e0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x72bdacbf4110>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72bdada8c3e0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x72bdab87b350>
           <fastapi.applications.FastAPI object at 0x72bdacbf4110>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x72bdaaf26160>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72bdaaf38da0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x72bdab87b6b0>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x72bdab87b350>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x72bdacd14b80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x72bdab847d30>
     <contextlib._GeneratorContextManager object at 0x72bdaaf0bbf0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x72bdaaf25e40>
                                       <starlette.middleware.base._CachedRequest object at 0x72bdaaedd190>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x72bdab87b6b0>>
                      <app.middleware.logging.LoggingMiddleware object at 0x72bdab87b6b0>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x72bdab87de40>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-11 20:20:02.613 | INFO     | ReqID:c3e992f6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:20:02.714 | INFO     | ReqID:6d255c41 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:20:02.715 | INFO     | ReqID:2f5f014f | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:20:02.715 | INFO     | ReqID:a09811c9 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:22:41.389 | DEBUG    | ReqID:58370745 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:22:41.389 | SUCCESS  | ReqID:1bae5fd9 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:22:41.389 | INFO     | ReqID:3d4a7e77 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:23:01.977 | INFO     | ReqID:c62d549b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:23:02.078 | INFO     | ReqID:b1a6e3e6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:23:02.079 | INFO     | ReqID:b4a5956b | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:23:02.080 | INFO     | ReqID:eb5df577 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:23:02.955 | DEBUG    | ReqID:aba47a5c | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:23:02.956 | SUCCESS  | ReqID:c12b8c74 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:23:02.956 | INFO     | ReqID:d2898bd4 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:24:11.552 | INFO     | ReqID:f8c88c0c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:24:11.655 | INFO     | ReqID:70ea0640 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:24:11.656 | INFO     | ReqID:f3aeafa7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:24:11.656 | INFO     | ReqID:5fe076dc | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:24:12.388 | DEBUG    | ReqID:db00ba86 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:24:12.389 | SUCCESS  | ReqID:d5ca00fa | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:24:12.389 | INFO     | ReqID:f2524d87 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:26:05.671 | INFO     | ReqID:f7cae076 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:26:05.772 | INFO     | ReqID:2d5d77ce | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:26:05.772 | INFO     | ReqID:a8b7ef6a | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:26:05.773 | INFO     | ReqID:a8847986 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:26:15.698 | DEBUG    | ReqID:6d22f06b | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:26:15.698 | SUCCESS  | ReqID:64b30702 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:26:15.699 | INFO     | ReqID:95f6e0b2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:26:57.979 | INFO     | ReqID:ba00feb6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:26:58.080 | INFO     | ReqID:6915ed54 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:26:58.085 | INFO     | ReqID:d42fd4ad | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:26:58.086 | INFO     | ReqID:32a86363 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:26:58.088 | INFO     | ReqID:758586ab | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:26:58.088 | SUCCESS  | ReqID:9349d8fd | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 20:26:58.089 | INFO     | ReqID:4f1c8105 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 20:26:58.089 | INFO     | ReqID:e023dd2f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [9169]
2025-12-11 20:26:58.784 | DEBUG    | ReqID:0ea4385b | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:26:58.784 | SUCCESS  | ReqID:2a2b532a | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:26:58.785 | INFO     | ReqID:58bd0672 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:27:23.792 | INFO     | ReqID:2134fff3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:27:23.893 | INFO     | ReqID:733a2381 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:27:23.894 | INFO     | ReqID:1d2e30c7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:27:23.895 | INFO     | ReqID:30ebfae3 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:27:24.651 | DEBUG    | ReqID:27a37155 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:27:24.652 | SUCCESS  | ReqID:7100d2cb | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:27:24.652 | INFO     | ReqID:41960044 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:28:06.321 | INFO     | ReqID:62b889c0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:28:06.422 | INFO     | ReqID:99f3889e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:28:06.423 | INFO     | ReqID:4b56802e | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:28:06.424 | INFO     | ReqID:b569a5be | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:28:07.495 | DEBUG    | ReqID:1b97a708 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:28:07.496 | SUCCESS  | ReqID:a7b203a0 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:28:07.496 | INFO     | ReqID:1868680c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:28:11.112 | INFO     | ReqID:d8d810fd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:28:11.213 | INFO     | ReqID:bec6b4c8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:28:11.214 | INFO     | ReqID:9884f034 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:28:11.214 | INFO     | ReqID:34c1599d | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:28:11.215 | INFO     | ReqID:3aefdd6c | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:28:12.044 | DEBUG    | ReqID:703b5bd6 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:28:12.044 | SUCCESS  | ReqID:d9ae52d3 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:28:12.046 | INFO     | ReqID:0c30e341 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:28:18.974 | INFO     | ReqID:59efe4ba | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:28:19.076 | INFO     | ReqID:66bc94fa | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:28:19.077 | INFO     | ReqID:df4bd4e7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:28:19.078 | INFO     | ReqID:565d27b3 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:28:19.081 | INFO     | ReqID:0abbe44c | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:28:20.405 | DEBUG    | ReqID:af4e00d1 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:28:20.406 | SUCCESS  | ReqID:47369837 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:28:20.406 | INFO     | ReqID:daef1830 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:28:47.834 | INFO     | ReqID:99ba437f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:28:47.936 | INFO     | ReqID:25382d65 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:28:47.939 | INFO     | ReqID:fd2516df | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:28:47.940 | INFO     | ReqID:2e70ae18 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:28:47.942 | INFO     | ReqID:98551512 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:28:48.634 | DEBUG    | ReqID:b4a87bc0 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:28:48.635 | SUCCESS  | ReqID:4eafdb09 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:28:48.635 | INFO     | ReqID:dedd7ed2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:29:04.904 | INFO     | ReqID:aed5c265 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:29:05.006 | INFO     | ReqID:4e9476f8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:29:05.007 | INFO     | ReqID:26deed6c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:29:05.007 | INFO     | ReqID:4d5ebec4 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:29:06.700 | DEBUG    | ReqID:717d02f8 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:29:06.701 | SUCCESS  | ReqID:11b74bd5 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:29:06.701 | INFO     | ReqID:27620025 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:29:07.206 | INFO     | ReqID:84c7ca36 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:29:07.309 | INFO     | ReqID:a22d5e4c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:29:07.311 | INFO     | ReqID:6366d363 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:29:07.313 | INFO     | ReqID:32378ab5 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:29:07.315 | INFO     | ReqID:bf39b657 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:29:07.316 | SUCCESS  | ReqID:f7998e3a | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 20:29:07.317 | INFO     | ReqID:70ca5be6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 20:29:07.317 | INFO     | ReqID:c156fa1d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [9609]
2025-12-11 20:29:09.648 | DEBUG    | ReqID:7619c2ff | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:29:09.649 | SUCCESS  | ReqID:fd4f24cd | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:29:09.650 | INFO     | ReqID:0904b8c4 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:29:11.767 | INFO     | ReqID:d697ca72 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:29:11.869 | INFO     | ReqID:aa88917c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:29:11.872 | INFO     | ReqID:de36418e | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:29:11.873 | INFO     | ReqID:c0a8d9f4 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:29:11.877 | INFO     | ReqID:3081f90f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:29:11.880 | SUCCESS  | ReqID:f4a35e1d | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 20:29:11.881 | INFO     | ReqID:c9f10fec | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 20:29:13.908 | DEBUG    | ReqID:bcf08c30 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:29:13.909 | SUCCESS  | ReqID:bb7274f4 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:29:13.909 | INFO     | ReqID:e7540064 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:29:19.533 | INFO     | ReqID:589009f4 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:29:19.636 | INFO     | ReqID:93656ed3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:29:19.636 | INFO     | ReqID:8976add4 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:29:19.636 | INFO     | ReqID:0f028b2a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:29:20.878 | DEBUG    | ReqID:56cb4ff9 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:29:20.879 | SUCCESS  | ReqID:e9290042 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:29:20.879 | INFO     | ReqID:1a4dd45d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:29:27.908 | INFO     | ReqID:d8daf611 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:29:28.010 | INFO     | ReqID:48efa1cc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:29:28.012 | INFO     | ReqID:2487fd4b | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:29:28.012 | INFO     | ReqID:159ff65f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:29:29.027 | DEBUG    | ReqID:73939a96 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:29:29.027 | SUCCESS  | ReqID:e7bbd080 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:29:29.028 | INFO     | ReqID:2f1d0528 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:29:31.754 | INFO     | ReqID:ed2ae568 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:29:31.856 | INFO     | ReqID:96a1fe9d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:29:31.858 | INFO     | ReqID:c0be6272 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:29:31.859 | INFO     | ReqID:8cfe50df | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:29:31.867 | INFO     | ReqID:2e98b212 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:29:33.801 | DEBUG    | ReqID:28eb4d95 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:29:33.802 | SUCCESS  | ReqID:61213df3 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:29:33.803 | INFO     | ReqID:3cda61eb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:29:37.126 | INFO     | ReqID:1cbc5b90 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:29:37.228 | INFO     | ReqID:52830b4d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:29:37.229 | INFO     | ReqID:d6fd9b17 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:29:37.230 | INFO     | ReqID:2411ea86 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:29:37.232 | INFO     | ReqID:9b2fa1c6 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:29:37.232 | SUCCESS  | ReqID:86556060 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 20:29:38.701 | DEBUG    | ReqID:21080268 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:29:38.702 | SUCCESS  | ReqID:e5e7d975 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:29:38.703 | INFO     | ReqID:3f75189a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:29:39.309 | INFO     | ReqID:0e92f0c3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:29:39.410 | INFO     | ReqID:9db1a8d4 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:29:39.413 | INFO     | ReqID:2c269c34 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:29:39.413 | INFO     | ReqID:a4e3d708 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:29:41.175 | DEBUG    | ReqID:ad872a1f | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:29:41.175 | SUCCESS  | ReqID:65465395 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:29:41.176 | INFO     | ReqID:947f30eb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:30:11.402 | INFO     | ReqID:db77f4d3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:30:11.505 | INFO     | ReqID:993ed9d2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:30:11.506 | INFO     | ReqID:f61c2bec | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:30:11.506 | INFO     | ReqID:6e07c63b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:30:12.306 | DEBUG    | ReqID:f0993b0d | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:30:12.306 | SUCCESS  | ReqID:7217723f | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:30:12.307 | INFO     | ReqID:d4ec8e5a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:32:11.181 | INFO     | ReqID:19000f54 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:32:11.283 | INFO     | ReqID:7122deec | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:32:11.284 | INFO     | ReqID:4a1ee031 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:32:11.285 | INFO     | ReqID:cbd290e1 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:32:11.286 | INFO     | ReqID:9413ccd9 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:32:22.055 | DEBUG    | ReqID:5e9e9047 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:32:22.056 | SUCCESS  | ReqID:fefdabd4 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:32:22.056 | INFO     | ReqID:27b06725 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:32:27.679 | INFO     | ReqID:0dc03b26 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:32:27.780 | INFO     | ReqID:8a8347f9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:32:27.781 | INFO     | ReqID:d7b0dc4f | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:32:27.781 | INFO     | ReqID:619506bc | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:32:27.783 | INFO     | ReqID:a71fef90 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:32:28.565 | DEBUG    | ReqID:8adfb523 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:32:28.566 | SUCCESS  | ReqID:a0b89cab | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:32:28.567 | INFO     | ReqID:d32982ac | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:32:30.828 | INFO     | ReqID:8ccdf628 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 20:32:30.831 | INFO     | ReqID:8ccdf628 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.003s]
2025-12-11 20:32:30.832 | INFO     | ReqID:8ccdf628 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:48102 - "GET /docs HTTP/1.1" 200
2025-12-11 20:32:31.185 | INFO     | ReqID:3cd0e75f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 20:32:31.200 | INFO     | ReqID:3cd0e75f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.014s]
2025-12-11 20:32:31.200 | INFO     | ReqID:3cd0e75f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:48102 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 20:33:18.074 | INFO     | ReqID:9dbe00f9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:33:18.175 | INFO     | ReqID:b861cf68 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:33:18.176 | INFO     | ReqID:79142943 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:33:18.177 | INFO     | ReqID:181e2dc1 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:33:18.913 | DEBUG    | ReqID:5dfbc858 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:33:18.913 | SUCCESS  | ReqID:63e441c5 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:33:18.913 | INFO     | ReqID:aebebe22 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 20:33:21.204 | INFO     | ReqID:68379ea7 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 20:33:21.205 | INFO     | ReqID:68379ea7 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.002s]
2025-12-11 20:33:21.205 | INFO     | ReqID:68379ea7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34712 - "GET /docs HTTP/1.1" 200
2025-12-11 20:33:21.513 | INFO     | ReqID:3a982082 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 20:33:21.523 | INFO     | ReqID:3a982082 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.010s]
2025-12-11 20:33:21.523 | INFO     | ReqID:3a982082 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34712 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 20:33:26.592 | INFO     | ReqID:6a9fce58 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vm] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 20:33:26.603 | INFO     | ReqID:6a9fce58 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:54020 - "POST /infrastructure/vm HTTP/1.1" 500
2025-12-11 20:33:26.604 | ERROR    | ReqID:6a9fce58 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x72360c140050>
  |                      <function create_task_group at 0x72360e38c540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72360fbb7e00>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x72360ed71220>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72360fbb7e00>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x72360ca8f560>
    |            <fastapi.applications.FastAPI object at 0x72360ed71220>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x72360c132020>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x72360ca8f830>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x72360ca8f560>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x72360df70b80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x72360ca53ed0>
    |      <contextlib._GeneratorContextManager object at 0x72360c140fe0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x72360c131da0>
    |                                        <starlette.middleware.base._CachedRequest object at 0x72360c140860>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x72360ca8f830>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x72360ca8f830>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x72360ca89e40>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x72360f9e1940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x72360fabbc40>
            <SpawnProcess name='SpawnProcess-34' parent=7391 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x72360fabb1a0>
     <SpawnProcess name='SpawnProcess-34' parent=7391 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x72360f84ce00>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-34' parent=7391 started>
                     ()
                 <SpawnProcess name='SpawnProcess-34' parent=7391 started>
         <function subprocess_started at 0x72360eca1940>
     <SpawnProcess name='SpawnProcess-34' parent=7391 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x72360ecf2690>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x72360ee90a40>
                                                                  <uvicorn.config.Config object at 0x72360f84ce00>
                                                              <uvicorn.server.Server object at 0x72360ecf2690>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x72360eca0b80>
                       <uvicorn.server.Server object at 0x72360ecf2690>
            <function run at 0x72360f52ab60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x72360fa54120>
                  <function Runner.run at 0x72360f58e2a0>
            <asyncio.runners.Runner object at 0x72360ef3fe00>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x72360f587ec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x72360ef3fe00>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x72360f587e20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x72360f58dc60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x72360f7f2160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72360fbb7e00>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x72360ed71220>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x72360fbb7e00>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x72360ca8f560>
           <fastapi.applications.FastAPI object at 0x72360ed71220>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x72360c132020>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x72360c141280>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x72360ca8f830>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x72360ca8f560>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x72360df70b80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x72360ca53ed0>
     <contextlib._GeneratorContextManager object at 0x72360c140fe0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x72360c131da0>
                                       <starlette.middleware.base._CachedRequest object at 0x72360c140860>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x72360ca8f830>>
                      <app.middleware.logging.LoggingMiddleware object at 0x72360ca8f830>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x72360ca89e40>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-11 20:33:37.594 | INFO     | ReqID:d7e2ae66 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 20:33:37.697 | INFO     | ReqID:3e06745c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 20:33:37.698 | INFO     | ReqID:deae5dd2 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 20:33:37.698 | INFO     | ReqID:d069d534 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 20:33:37.699 | INFO     | ReqID:dd1fee7b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 20:33:37.699 | SUCCESS  | ReqID:de94e8e0 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 20:33:37.700 | INFO     | ReqID:d15ee565 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 20:33:37.701 | INFO     | ReqID:7aa25a9f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [10240]
2025-12-11 20:33:38.548 | DEBUG    | ReqID:4f09afc0 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 20:33:38.548 | SUCCESS  | ReqID:6a6a9cbd | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 20:33:38.549 | INFO     | ReqID:a2848db7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:19:53.607 | INFO     | ReqID:fc8b0904 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:19:53.708 | INFO     | ReqID:71fbded6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:19:53.710 | INFO     | ReqID:125d71f7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:19:53.711 | INFO     | ReqID:1192d080 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:19:53.712 | INFO     | ReqID:503fba55 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:19:53.712 | SUCCESS  | ReqID:969b62ff | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:19:54.660 | DEBUG    | ReqID:34b087dd | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:19:54.661 | SUCCESS  | ReqID:ddc6be65 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:19:54.661 | INFO     | ReqID:9dc04262 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:20:02.289 | INFO     | ReqID:f9ca64eb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:20:02.391 | INFO     | ReqID:eaa9ea18 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:20:02.391 | INFO     | ReqID:70e8ec77 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:20:02.392 | INFO     | ReqID:fac67c8d | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:20:37.729 | DEBUG    | ReqID:8f2a0fa9 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:20:37.729 | SUCCESS  | ReqID:39684f7d | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:20:37.730 | INFO     | ReqID:c010e7c3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:20:56.809 | INFO     | ReqID:83ee4823 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:20:56.911 | INFO     | ReqID:10a961c1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:20:56.915 | INFO     | ReqID:1cc6b12e | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:20:56.916 | INFO     | ReqID:0431e8e6 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:20:56.917 | INFO     | ReqID:a1da0c72 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:20:56.918 | SUCCESS  | ReqID:17470c0e | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:20:56.919 | INFO     | ReqID:e3e9d196 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:20:56.921 | INFO     | ReqID:8cfc49ef | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [18939]
2025-12-11 21:20:57.612 | DEBUG    | ReqID:0fcc1d5d | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:20:57.612 | SUCCESS  | ReqID:4a0334b4 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:20:57.613 | INFO     | ReqID:b127b6bf | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:23:50.028 | INFO     | ReqID:0089fc6b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:23:50.128 | INFO     | ReqID:38a3d1c4 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:23:50.129 | INFO     | ReqID:7ab1dda7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:23:50.130 | INFO     | ReqID:da75a7dd | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:23:50.131 | INFO     | ReqID:4fcf7a91 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:23:50.132 | SUCCESS  | ReqID:14535353 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:24:04.028 | DEBUG    | ReqID:5e5dd431 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:24:04.029 | SUCCESS  | ReqID:47bc5870 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:24:04.029 | INFO     | ReqID:54917c80 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:24:06.384 | INFO     | ReqID:33d90d3f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:24:06.386 | INFO     | ReqID:33d90d3f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.003s]
2025-12-11 21:24:06.387 | INFO     | ReqID:33d90d3f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:50554 - "GET /docs HTTP/1.1" 200
2025-12-11 21:24:06.682 | INFO     | ReqID:cd63efcc | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:24:06.702 | INFO     | ReqID:cd63efcc | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.020s]
2025-12-11 21:24:06.703 | INFO     | ReqID:cd63efcc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:50554 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 21:26:25.396 | INFO     | ReqID:42da2676 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:26:25.498 | INFO     | ReqID:9dbd1045 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:26:25.498 | INFO     | ReqID:68c2484b | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:26:25.499 | INFO     | ReqID:1dd2d325 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:26:25.501 | INFO     | ReqID:da990471 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:26:25.502 | SUCCESS  | ReqID:4d2d74ac | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:26:26.426 | DEBUG    | ReqID:3767d6c7 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:26:26.426 | SUCCESS  | ReqID:04312f91 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:26:26.427 | INFO     | ReqID:67e1b7fb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:26:46.713 | INFO     | ReqID:f506c168 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:26:46.816 | INFO     | ReqID:ff2e1ed6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:26:46.817 | INFO     | ReqID:0a8f119d | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:26:46.817 | INFO     | ReqID:e614be95 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:26:46.819 | INFO     | ReqID:c0627a13 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:26:46.820 | SUCCESS  | ReqID:d286e5b6 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:26:46.821 | INFO     | ReqID:9f189bf0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:26:46.822 | INFO     | ReqID:ddfa1a10 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [19383]
2025-12-11 21:26:47.825 | DEBUG    | ReqID:ec91746a | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:26:47.826 | SUCCESS  | ReqID:d6652d95 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:26:47.827 | INFO     | ReqID:d7fb8af9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:27:20.864 | INFO     | ReqID:f2b5ad67 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:27:20.965 | INFO     | ReqID:c7cf1412 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:27:20.966 | INFO     | ReqID:cd937156 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:27:20.967 | INFO     | ReqID:ff3696be | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:27:20.967 | INFO     | ReqID:741b3f84 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:27:21.673 | DEBUG    | ReqID:d2ea1ee4 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:27:21.673 | SUCCESS  | ReqID:d1e4db1c | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:27:21.674 | INFO     | ReqID:42db0b6c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:28:39.014 | INFO     | ReqID:216e3b5b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:28:39.124 | INFO     | ReqID:73461b74 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:28:39.127 | INFO     | ReqID:05ab9b28 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:28:39.136 | INFO     | ReqID:e1469b30 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:28:39.145 | INFO     | ReqID:7e1e5f36 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:28:39.148 | SUCCESS  | ReqID:e40b244d | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:28:39.155 | INFO     | ReqID:c0a63619 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:28:39.161 | INFO     | ReqID:d1afe11b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [19507]
2025-12-11 21:28:41.500 | DEBUG    | ReqID:e249e32a | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:28:41.502 | SUCCESS  | ReqID:64f1bd6b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:28:41.503 | INFO     | ReqID:d6f99821 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:28:45.796 | INFO     | ReqID:9cf184ee | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:28:45.798 | INFO     | ReqID:9cf184ee | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.002s]
2025-12-11 21:28:45.798 | INFO     | ReqID:9cf184ee | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:39400 - "GET /docs HTTP/1.1" 200
2025-12-11 21:28:46.076 | INFO     | ReqID:adad0913 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:28:46.094 | INFO     | ReqID:adad0913 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.018s]
2025-12-11 21:28:46.095 | INFO     | ReqID:adad0913 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:39400 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 21:28:50.216 | INFO     | ReqID:9c8cf36e | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:28:50.220 | INFO     | ReqID:9c8cf36e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:39400 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-11 21:28:50.221 | ERROR    | ReqID:9c8cf36e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x70da76af8260>
  |                      <function create_task_group at 0x70da78494540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70da78df6570>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x70da77f1f7d0>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70da78df6570>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x70da76c39790>
    |            <fastapi.applications.FastAPI object at 0x70da77f1f7d0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x70da76aea7a0>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x70da76c3baa0>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x70da76c39790>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x70da7807cb80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x70da76c17ed0>
    |      <contextlib._GeneratorContextManager object at 0x70da76af90d0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x70da76aea020>
    |                                        <starlette.middleware.base._CachedRequest object at 0x70da76af9070>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x70da76c3baa0>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x70da76c3baa0>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x70da76c41e40>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x70da79b85940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x70da79c5bc40>
            <SpawnProcess name='SpawnProcess-48' parent=7391 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x70da79c5b1a0>
     <SpawnProcess name='SpawnProcess-48' parent=7391 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x70da7999d040>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-48' parent=7391 started>
                     ()
                 <SpawnProcess name='SpawnProcess-48' parent=7391 started>
         <function subprocess_started at 0x70da78da5940>
     <SpawnProcess name='SpawnProcess-48' parent=7391 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x70da78df6870>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x70da78f94a40>
                                                                  <uvicorn.config.Config object at 0x70da7999d040>
                                                              <uvicorn.server.Server object at 0x70da78df6870>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x70da78da4b80>
                       <uvicorn.server.Server object at 0x70da78df6870>
            <function run at 0x70da79112b60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70da79bf4120>
                  <function Runner.run at 0x70da791762a0>
            <asyncio.runners.Runner object at 0x70da79c56e70>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x70da7916fec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70da79c56e70>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70da7916fe20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70da79175c60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x70da79942160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70da78df6570>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70da77f1f7d0>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70da78df6570>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70da76c39790>
           <fastapi.applications.FastAPI object at 0x70da77f1f7d0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70da76aea7a0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70da76af93d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x70da76c3baa0>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70da76c39790>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x70da7807cb80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x70da76c17ed0>
     <contextlib._GeneratorContextManager object at 0x70da76af90d0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x70da76aea020>
                                       <starlette.middleware.base._CachedRequest object at 0x70da76af9070>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x70da76c3baa0>>
                      <app.middleware.logging.LoggingMiddleware object at 0x70da76c3baa0>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x70da76c41e40>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-11 21:29:04.110 | INFO     | ReqID:5572f284 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:29:04.212 | INFO     | ReqID:b97b9524 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:29:04.214 | INFO     | ReqID:314d905c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:29:04.214 | INFO     | ReqID:61690ccf | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:29:04.215 | INFO     | ReqID:b5aa903e | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:29:04.881 | DEBUG    | ReqID:ce44c7d8 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:29:04.882 | SUCCESS  | ReqID:68130b5b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:29:04.882 | INFO     | ReqID:c9fff893 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:29:06.443 | INFO     | ReqID:846ed886 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:29:06.445 | INFO     | ReqID:846ed886 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.002s]
2025-12-11 21:29:06.446 | INFO     | ReqID:846ed886 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41030 - "GET /docs HTTP/1.1" 200
2025-12-11 21:29:06.774 | INFO     | ReqID:a1812a7f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:29:06.782 | INFO     | ReqID:a1812a7f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.008s]
2025-12-11 21:29:06.783 | INFO     | ReqID:a1812a7f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41030 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 21:29:09.635 | INFO     | ReqID:3e720d7d | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:29:09.637 | INFO     | ReqID:3e720d7d | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.002s]
2025-12-11 21:29:09.637 | INFO     | ReqID:3e720d7d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41030 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:33:21.043 | INFO     | ReqID:550ebb7c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:33:21.144 | INFO     | ReqID:3f73a71b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:33:21.145 | INFO     | ReqID:51b7a424 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:33:21.145 | INFO     | ReqID:d1cd9bd0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:33:21.147 | INFO     | ReqID:d4e09811 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:33:21.147 | SUCCESS  | ReqID:73ba26a1 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:33:21.148 | INFO     | ReqID:3bd2021b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:33:22.097 | DEBUG    | ReqID:059ed0d9 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:33:22.097 | SUCCESS  | ReqID:394bf834 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:33:22.098 | INFO     | ReqID:87c22c07 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:34:28.201 | INFO     | ReqID:c13f2110 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:34:28.302 | INFO     | ReqID:0f1536e8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:34:28.303 | INFO     | ReqID:3b3661e9 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:34:28.303 | INFO     | ReqID:cc3868b2 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:34:28.958 | DEBUG    | ReqID:51b98d8a | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:34:28.959 | SUCCESS  | ReqID:7a3d6568 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:34:28.959 | INFO     | ReqID:ae2e00cc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:34:34.281 | INFO     | ReqID:71ed9d0d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:34:34.383 | INFO     | ReqID:3f7a76ab | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:34:34.384 | INFO     | ReqID:1ec780aa | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:34:34.384 | INFO     | ReqID:188683af | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:34:34.388 | INFO     | ReqID:d2bcc70b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:34:34.389 | SUCCESS  | ReqID:94941ceb | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:34:35.605 | DEBUG    | ReqID:2fdaf8f1 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:34:35.606 | SUCCESS  | ReqID:80eeb6e5 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:34:35.606 | INFO     | ReqID:83eab96c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:34:53.786 | INFO     | ReqID:b2634f5b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:34:53.888 | INFO     | ReqID:ac5c6504 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:34:53.888 | INFO     | ReqID:1d4cabfc | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:34:53.889 | INFO     | ReqID:4b0d17a9 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:34:53.891 | INFO     | ReqID:57bb082f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:34:53.892 | SUCCESS  | ReqID:6c04d798 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:34:53.892 | INFO     | ReqID:f0514b8a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:34:54.933 | DEBUG    | ReqID:b98b4b36 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:34:54.933 | SUCCESS  | ReqID:735d3957 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:34:54.934 | INFO     | ReqID:22e90592 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:36:00.212 | INFO     | ReqID:574f6062 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:36:00.314 | INFO     | ReqID:17218c0b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:36:00.314 | INFO     | ReqID:386b2326 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:36:00.315 | INFO     | ReqID:b2be776d | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:36:00.315 | INFO     | ReqID:248e26d5 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:36:00.316 | SUCCESS  | ReqID:969e434f | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:36:01.320 | DEBUG    | ReqID:d9e4d1b6 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:36:01.321 | SUCCESS  | ReqID:8a60f876 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:36:01.321 | INFO     | ReqID:96c574d2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:36:51.120 | INFO     | ReqID:a82d0e97 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:36:51.222 | INFO     | ReqID:7660bb8e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:36:51.224 | INFO     | ReqID:0e8ea6e4 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:36:51.225 | INFO     | ReqID:df35ad12 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:36:51.227 | INFO     | ReqID:facc4c3d | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:36:51.228 | SUCCESS  | ReqID:d73a57e8 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:36:51.229 | INFO     | ReqID:4564f8b7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:36:51.230 | INFO     | ReqID:20cfb94e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [20251]
2025-12-11 21:36:51.932 | DEBUG    | ReqID:c0463f98 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:36:51.932 | SUCCESS  | ReqID:14adf7e7 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:36:51.933 | INFO     | ReqID:d2db07eb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:37:06.797 | INFO     | ReqID:e36940d9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:37:06.898 | INFO     | ReqID:d3508c09 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:37:06.902 | INFO     | ReqID:db7891da | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:37:06.902 | INFO     | ReqID:85c681ef | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:37:07.755 | DEBUG    | ReqID:f07e3bee | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:37:07.755 | SUCCESS  | ReqID:57c6a625 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:37:07.756 | INFO     | ReqID:2c0f2d6c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:37:17.396 | INFO     | ReqID:39f28ed4 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:37:17.499 | INFO     | ReqID:a91feb1e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:37:17.499 | INFO     | ReqID:719f91a9 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:37:17.500 | INFO     | ReqID:f1b62015 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:37:17.501 | INFO     | ReqID:f855f2cd | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:37:17.501 | SUCCESS  | ReqID:68676c83 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:37:17.502 | INFO     | ReqID:7a8a12d3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:37:18.285 | DEBUG    | ReqID:94479853 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:37:18.285 | SUCCESS  | ReqID:234a9aea | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:37:18.286 | INFO     | ReqID:4cd2e0d0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:37:28.631 | INFO     | ReqID:ae832aa2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:37:28.733 | INFO     | ReqID:48edf071 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:37:28.735 | INFO     | ReqID:5e14844c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:37:28.737 | INFO     | ReqID:c00bc1e4 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:37:28.739 | INFO     | ReqID:058617ae | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:37:28.741 | SUCCESS  | ReqID:88440e37 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:37:28.744 | INFO     | ReqID:0d6477d7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:37:30.102 | DEBUG    | ReqID:272b6424 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:37:30.102 | SUCCESS  | ReqID:82092503 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:37:30.103 | INFO     | ReqID:a3869194 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:37:33.114 | INFO     | ReqID:f1583a28 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:37:33.218 | INFO     | ReqID:b8462b97 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:37:33.218 | INFO     | ReqID:99fecd73 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:37:33.219 | INFO     | ReqID:a0ad67a5 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:37:33.221 | INFO     | ReqID:572a2c40 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:37:34.492 | DEBUG    | ReqID:b36c1dbe | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:37:34.493 | SUCCESS  | ReqID:9ec44f9a | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:37:34.493 | INFO     | ReqID:6718c2ac | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:37:41.625 | INFO     | ReqID:967ad305 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:37:41.726 | INFO     | ReqID:ef89820b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:37:41.726 | INFO     | ReqID:53a2b673 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:37:41.727 | INFO     | ReqID:18500c38 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:37:41.728 | INFO     | ReqID:e8f889a9 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:37:41.728 | SUCCESS  | ReqID:4921477d | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:37:41.728 | INFO     | ReqID:0dd1fbba | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:37:43.149 | DEBUG    | ReqID:1e276780 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:37:43.150 | SUCCESS  | ReqID:b8cf029f | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:37:43.150 | INFO     | ReqID:5649307a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:38:06.652 | INFO     | ReqID:cf238810 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:38:06.753 | INFO     | ReqID:32de5b43 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:38:06.755 | INFO     | ReqID:039089df | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:38:06.756 | INFO     | ReqID:98f0d18e | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:38:07.502 | DEBUG    | ReqID:5e0a2646 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:38:07.503 | SUCCESS  | ReqID:c7efe200 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:38:07.503 | INFO     | ReqID:f7f47f36 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:39:04.415 | INFO     | ReqID:0c4b20a2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:39:04.515 | INFO     | ReqID:dc7941dd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:39:04.516 | INFO     | ReqID:dd7c35be | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:39:04.516 | INFO     | ReqID:0b38729c | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:39:05.527 | DEBUG    | ReqID:1702cacf | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:39:05.528 | SUCCESS  | ReqID:4e1d9556 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:39:05.528 | INFO     | ReqID:12de3f5f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:39:07.234 | INFO     | ReqID:bf7c292f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:39:07.340 | INFO     | ReqID:5365c765 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:39:07.341 | INFO     | ReqID:000c97e5 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:39:07.342 | INFO     | ReqID:4162d30a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:39:08.580 | DEBUG    | ReqID:644e6a54 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:39:08.580 | SUCCESS  | ReqID:d39c7abe | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:39:08.581 | INFO     | ReqID:75a4331d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:39:09.686 | INFO     | ReqID:9e49bef2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:39:09.788 | INFO     | ReqID:ab82c313 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:39:09.789 | INFO     | ReqID:17475d3f | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:39:09.789 | INFO     | ReqID:1b2c14a6 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:39:09.791 | INFO     | ReqID:79a608c0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:39:09.791 | SUCCESS  | ReqID:1a01b3c4 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:39:10.900 | DEBUG    | ReqID:c915ce5e | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:39:10.901 | SUCCESS  | ReqID:75b0c1db | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:39:10.902 | INFO     | ReqID:54af5920 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:39:13.512 | INFO     | ReqID:54228514 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:39:13.614 | INFO     | ReqID:25347f88 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:39:13.617 | INFO     | ReqID:82abb858 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:39:13.618 | INFO     | ReqID:d2a675a2 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:39:15.081 | DEBUG    | ReqID:42fa6970 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:39:15.083 | SUCCESS  | ReqID:33bbbf8d | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:39:15.084 | INFO     | ReqID:514975ec | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:39:44.302 | INFO     | ReqID:f2ad2969 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:39:44.403 | INFO     | ReqID:46cc90d1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:39:44.405 | INFO     | ReqID:444635d3 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:39:44.406 | INFO     | ReqID:a57451df | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:39:45.148 | DEBUG    | ReqID:b25ad6a7 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:39:45.148 | SUCCESS  | ReqID:8563befa | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:39:45.149 | INFO     | ReqID:bfe55588 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:39:56.897 | INFO     | ReqID:24478b4b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:39:56.999 | INFO     | ReqID:4e49e3c6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:39:57.000 | INFO     | ReqID:4c421038 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:39:57.000 | INFO     | ReqID:6fffcdec | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:39:57.002 | INFO     | ReqID:01bd176b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:39:57.832 | DEBUG    | ReqID:affd54d4 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:39:57.834 | SUCCESS  | ReqID:812e4fde | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:39:57.834 | INFO     | ReqID:84d57375 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:39:57.936 | INFO     | ReqID:380b115f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:39:58.036 | INFO     | ReqID:1b45d805 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:39:58.039 | INFO     | ReqID:e9cd4cf4 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:39:58.039 | INFO     | ReqID:9c86d7d2 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:39:59.441 | DEBUG    | ReqID:d7424da8 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:39:59.442 | SUCCESS  | ReqID:f5419d4b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:39:59.443 | INFO     | ReqID:f6780783 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:40:01.962 | DEBUG    | ReqID:4ee2e6ed | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:40:01.964 | SUCCESS  | ReqID:01bdda13 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:40:01.967 | INFO     | ReqID:6b69d956 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:40:02.371 | INFO     | ReqID:c11f9b35 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:40:02.475 | INFO     | ReqID:c9eaaa57 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:40:02.476 | INFO     | ReqID:b68e1c01 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:40:02.476 | INFO     | ReqID:49a7c3dd | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:40:03.865 | DEBUG    | ReqID:fbc07fa1 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:40:03.866 | SUCCESS  | ReqID:e37fc514 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:40:03.866 | INFO     | ReqID:755d2638 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:41:04.814 | INFO     | ReqID:cc54c25a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:41:04.921 | INFO     | ReqID:8370d725 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:41:04.922 | INFO     | ReqID:0ac2461c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:41:04.922 | INFO     | ReqID:50ecb076 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:41:05.740 | DEBUG    | ReqID:1d45acf7 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:41:05.740 | SUCCESS  | ReqID:d4ee874b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:41:05.740 | INFO     | ReqID:84f200c1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:41:18.493 | INFO     | ReqID:801e3c70 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:41:18.596 | INFO     | ReqID:28f32335 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:41:18.597 | INFO     | ReqID:9dc54646 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:41:18.597 | INFO     | ReqID:3920717d | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:41:18.600 | INFO     | ReqID:a9335068 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:41:19.519 | DEBUG    | ReqID:71bc64fe | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:41:19.520 | SUCCESS  | ReqID:1a8d1de1 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:41:19.520 | INFO     | ReqID:438015c2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:41:23.135 | INFO     | ReqID:b35bc776 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:41:23.236 | INFO     | ReqID:7a1edd6d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:41:23.239 | INFO     | ReqID:23e4ff98 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:41:23.240 | INFO     | ReqID:af6377d2 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:41:23.244 | INFO     | ReqID:cbc141f7 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:41:24.657 | DEBUG    | ReqID:14fefb2a | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:41:24.658 | SUCCESS  | ReqID:a566e72b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:41:24.660 | INFO     | ReqID:9511ba26 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:41:42.043 | INFO     | ReqID:25da0745 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:41:42.145 | INFO     | ReqID:94aa4151 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:41:42.145 | INFO     | ReqID:87b164ab | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:41:42.146 | INFO     | ReqID:cc8ec431 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:42:05.184 | DEBUG    | ReqID:5d687008 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:42:05.186 | SUCCESS  | ReqID:0f21a72a | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:42:05.188 | INFO     | ReqID:1d981373 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:42:44.541 | INFO     | ReqID:4db4aabb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:42:44.643 | INFO     | ReqID:c1be64e2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:42:44.645 | INFO     | ReqID:4dd1cdd1 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:42:44.645 | INFO     | ReqID:ac133773 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:42:44.646 | INFO     | ReqID:d9b1a0df | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:42:44.646 | SUCCESS  | ReqID:8fa957bf | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:42:44.647 | INFO     | ReqID:e048ea08 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:42:46.056 | DEBUG    | ReqID:b1e4a5e5 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:42:46.057 | SUCCESS  | ReqID:c60b7fa8 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:42:46.058 | INFO     | ReqID:1f204321 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:42:52.290 | INFO     | ReqID:783ddd97 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:42:52.391 | INFO     | ReqID:5e424aff | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:42:52.391 | INFO     | ReqID:8d5334d7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:42:52.391 | INFO     | ReqID:93ef52fb | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:42:52.393 | INFO     | ReqID:bcc97da4 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:42:52.393 | SUCCESS  | ReqID:c7b9ffca | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:42:52.394 | INFO     | ReqID:8c674030 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:42:53.459 | DEBUG    | ReqID:0c5253c2 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:42:53.460 | SUCCESS  | ReqID:6cbb3bf4 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:42:53.461 | INFO     | ReqID:cac407ee | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:42:57.178 | INFO     | ReqID:ea725acf | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:42:57.280 | INFO     | ReqID:a63f53ab | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:42:57.282 | INFO     | ReqID:2faec91c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:42:57.283 | INFO     | ReqID:f1dc5176 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:42:57.285 | INFO     | ReqID:b08dcacc | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:42:58.615 | DEBUG    | ReqID:25861d63 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:42:58.616 | SUCCESS  | ReqID:1cc22630 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:42:58.616 | INFO     | ReqID:83da2175 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:43:08.970 | INFO     | ReqID:cdf0bbb6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:43:09.072 | INFO     | ReqID:06384fe9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:43:09.073 | INFO     | ReqID:0f642d8b | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:43:09.074 | INFO     | ReqID:a9537709 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:43:10.292 | DEBUG    | ReqID:ceb8de68 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:43:10.294 | SUCCESS  | ReqID:90ba6f34 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:43:10.295 | INFO     | ReqID:207629d2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:43:12.606 | INFO     | ReqID:3b611704 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:43:12.709 | INFO     | ReqID:6850e96d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:43:12.711 | INFO     | ReqID:6e7bfb4c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:43:12.711 | INFO     | ReqID:95373565 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:43:12.714 | INFO     | ReqID:5ae06a36 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:43:12.714 | SUCCESS  | ReqID:d08a0c73 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:43:14.602 | DEBUG    | ReqID:064665dc | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:43:14.603 | SUCCESS  | ReqID:123a4df8 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:43:14.603 | INFO     | ReqID:2bf8e296 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:43:59.668 | INFO     | ReqID:0c6f4d9b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:43:59.770 | INFO     | ReqID:93712e1f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:43:59.771 | INFO     | ReqID:3fb1f16a | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:43:59.771 | INFO     | ReqID:148907e8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:44:01.034 | DEBUG    | ReqID:e73c03b6 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:44:01.034 | SUCCESS  | ReqID:ba263b24 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:44:01.035 | INFO     | ReqID:a4043428 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:44:04.352 | INFO     | ReqID:a7f078f5 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:44:04.454 | INFO     | ReqID:dda6bbbd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:44:04.456 | INFO     | ReqID:07ecef0c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:44:04.456 | INFO     | ReqID:f40fa3d2 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:44:05.866 | DEBUG    | ReqID:df41fffc | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:44:05.867 | SUCCESS  | ReqID:0ca6b58c | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:44:05.868 | INFO     | ReqID:c185a6c0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:45:08.007 | INFO     | ReqID:d2ba8d26 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:45:08.108 | INFO     | ReqID:9e2bc32a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:45:08.110 | INFO     | ReqID:d1ebe40a | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:45:08.111 | INFO     | ReqID:15ee5f2d | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:45:08.113 | INFO     | ReqID:457affbd | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:45:08.115 | SUCCESS  | ReqID:ffbef0d6 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:45:08.116 | INFO     | ReqID:67a5892a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:45:08.120 | INFO     | ReqID:d269cf10 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [21751]
2025-12-11 21:45:09.182 | DEBUG    | ReqID:28f0d67d | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:45:09.183 | SUCCESS  | ReqID:8728c78b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:45:09.183 | INFO     | ReqID:2c1057a5 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:45:15.407 | INFO     | ReqID:efad4544 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:45:15.510 | INFO     | ReqID:6db399a1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:45:15.511 | INFO     | ReqID:ae5ebb65 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:45:15.512 | INFO     | ReqID:61bd0fb2 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:45:17.512 | DEBUG    | ReqID:69ca02fb | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:45:17.513 | SUCCESS  | ReqID:4393e3cc | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:45:17.514 | INFO     | ReqID:3fdef6e3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:45:22.649 | INFO     | ReqID:949a39ce | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:45:22.751 | INFO     | ReqID:682a33fb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:45:22.751 | INFO     | ReqID:a1c05b7c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:45:22.752 | INFO     | ReqID:2733033f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:45:22.753 | INFO     | ReqID:54532037 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:45:22.754 | SUCCESS  | ReqID:6f43b291 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:45:22.754 | INFO     | ReqID:fad5a001 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:45:22.755 | INFO     | ReqID:27985d67 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [22009]
2025-12-11 21:45:23.735 | DEBUG    | ReqID:508b4ff5 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:45:23.735 | SUCCESS  | ReqID:4120efde | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:45:23.736 | INFO     | ReqID:557fbca6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:45:35.889 | INFO     | ReqID:fc98154e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:45:35.992 | INFO     | ReqID:e6219bb8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:45:35.993 | INFO     | ReqID:0bbb51b2 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:45:35.994 | INFO     | ReqID:b74b790f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:45:35.995 | INFO     | ReqID:c2a3845a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:45:35.995 | SUCCESS  | ReqID:649fa4c4 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:45:35.996 | INFO     | ReqID:fbf471ff | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:45:35.997 | INFO     | ReqID:8175cdb8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [22046]
2025-12-11 21:45:37.104 | DEBUG    | ReqID:f78c09e0 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:45:37.105 | SUCCESS  | ReqID:faf9dd80 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:45:37.105 | INFO     | ReqID:c3c6c1dc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:46:06.351 | INFO     | ReqID:5d8b0196 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:46:06.453 | INFO     | ReqID:566bef7b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:46:06.454 | INFO     | ReqID:b0755c32 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:46:06.454 | INFO     | ReqID:531615ee | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:46:06.455 | INFO     | ReqID:578bbdc1 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:46:06.455 | SUCCESS  | ReqID:fe6ba11a | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:46:06.456 | INFO     | ReqID:a7f89509 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:46:07.586 | DEBUG    | ReqID:13410973 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:46:07.587 | SUCCESS  | ReqID:1eac3cc4 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:46:07.588 | INFO     | ReqID:cca70ba7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:46:16.123 | INFO     | ReqID:d44c0311 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:46:16.226 | INFO     | ReqID:3a72cf1e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:46:16.226 | INFO     | ReqID:9b4b6880 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:46:16.227 | INFO     | ReqID:545a27f1 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:46:17.103 | DEBUG    | ReqID:5706d0d9 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:46:17.103 | SUCCESS  | ReqID:04bc43b8 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:46:17.104 | INFO     | ReqID:b982e8c7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:46:24.026 | INFO     | ReqID:ae7d1371 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:46:24.028 | INFO     | ReqID:ae7d1371 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.002s]
2025-12-11 21:46:24.030 | INFO     | ReqID:ae7d1371 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:57542 - "GET /docs HTTP/1.1" 200
2025-12-11 21:46:24.351 | INFO     | ReqID:e6f91f8b | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:46:24.360 | INFO     | ReqID:e6f91f8b | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.009s]
2025-12-11 21:46:24.360 | INFO     | ReqID:e6f91f8b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:57542 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 21:46:32.299 | INFO     | ReqID:1a37b396 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:46:32.301 | INFO     | ReqID:1a37b396 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.002s]
2025-12-11 21:46:32.302 | INFO     | ReqID:1a37b396 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:44904 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:46:55.759 | INFO     | ReqID:20caf821 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:46:55.860 | INFO     | ReqID:e1a16456 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:46:55.861 | INFO     | ReqID:9c95d0e8 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:46:55.862 | INFO     | ReqID:21e98bf1 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:46:56.617 | DEBUG    | ReqID:d7653795 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:46:56.618 | SUCCESS  | ReqID:642eb818 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:46:56.618 | INFO     | ReqID:308cd037 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:46:58.265 | INFO     | ReqID:556eb488 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:46:58.265 | INFO     | ReqID:556eb488 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.001s]
2025-12-11 21:46:58.266 | INFO     | ReqID:556eb488 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:56958 - "GET /docs HTTP/1.1" 200
2025-12-11 21:46:58.512 | INFO     | ReqID:1135ac30 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:46:58.521 | INFO     | ReqID:1135ac30 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.010s]
2025-12-11 21:46:58.522 | INFO     | ReqID:1135ac30 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:56958 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 21:47:06.939 | INFO     | ReqID:0f10340f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:47:07.058 | INFO     | ReqID:0f10340f | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.120s]
2025-12-11 21:47:07.059 | INFO     | ReqID:0f10340f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:55608 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:47:23.119 | INFO     | ReqID:c5511e56 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:47:23.123 | INFO     | ReqID:c5511e56 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.004s]
2025-12-11 21:47:23.123 | INFO     | ReqID:c5511e56 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:49304 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:47:30.710 | INFO     | ReqID:aeff7622 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:47:30.718 | INFO     | ReqID:aeff7622 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[200] | Process Time[0.007s]
2025-12-11 21:47:30.718 | INFO     | ReqID:aeff7622 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:36364 - "GET /infrastructure/all HTTP/1.1" 200
2025-12-11 21:47:40.305 | INFO     | ReqID:d041b472 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:47:40.309 | INFO     | ReqID:d041b472 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.004s]
2025-12-11 21:47:40.309 | INFO     | ReqID:d041b472 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:55392 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:47:53.132 | INFO     | ReqID:b28d1ce7 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:47:53.136 | INFO     | ReqID:b28d1ce7 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.004s]
2025-12-11 21:47:53.136 | INFO     | ReqID:b28d1ce7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:37200 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:48:34.201 | INFO     | ReqID:81cc144b | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:48:34.202 | INFO     | ReqID:81cc144b | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[422] | Process Time[0.002s]
2025-12-11 21:48:34.203 | INFO     | ReqID:81cc144b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:34534 - "POST /infrastructure/vms HTTP/1.1" 422
2025-12-11 21:49:08.723 | INFO     | ReqID:8cb34841 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:49:08.727 | INFO     | ReqID:8cb34841 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.004s]
2025-12-11 21:49:08.728 | INFO     | ReqID:8cb34841 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:48094 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:49:52.963 | INFO     | ReqID:f00d1c30 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:49:53.063 | INFO     | ReqID:3ae36c6c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:49:53.064 | INFO     | ReqID:a0e756be | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:49:53.064 | INFO     | ReqID:1bfef5e3 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:49:54.053 | DEBUG    | ReqID:452956a4 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:49:54.054 | SUCCESS  | ReqID:a5315669 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:49:54.054 | INFO     | ReqID:d3512fd8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:51:07.234 | INFO     | ReqID:b541de6f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:51:07.335 | INFO     | ReqID:893809b1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:51:07.336 | INFO     | ReqID:b53ad593 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:51:07.337 | INFO     | ReqID:2450d0bf | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:51:08.066 | DEBUG    | ReqID:f57930af | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:51:08.066 | SUCCESS  | ReqID:18f2680c | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:51:08.067 | INFO     | ReqID:76b0e38c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:51:20.324 | INFO     | ReqID:5f9ad425 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:51:20.426 | INFO     | ReqID:37731f6e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:51:20.428 | INFO     | ReqID:43003393 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:51:20.429 | INFO     | ReqID:35ac9c52 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:51:21.483 | DEBUG    | ReqID:b52f72fa | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:51:21.484 | SUCCESS  | ReqID:4e4f5001 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:51:21.485 | INFO     | ReqID:ad678628 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:51:29.015 | INFO     | ReqID:2f144e9c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:51:29.119 | INFO     | ReqID:16b5152e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:51:29.121 | INFO     | ReqID:c0aed942 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:51:29.122 | INFO     | ReqID:91c87a26 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:51:29.123 | INFO     | ReqID:a1cd6a48 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:51:29.124 | SUCCESS  | ReqID:7ab12d69 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:51:30.037 | DEBUG    | ReqID:6d567cf6 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:51:30.037 | SUCCESS  | ReqID:2a5fe450 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:51:30.038 | INFO     | ReqID:3ba757ae | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:51:34.057 | INFO     | ReqID:2fbdbe31 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:51:34.158 | INFO     | ReqID:86941c91 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:51:34.160 | INFO     | ReqID:f5e406f0 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:51:34.160 | INFO     | ReqID:0eee0925 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:51:34.162 | INFO     | ReqID:f5ea2b2b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:51:34.162 | SUCCESS  | ReqID:62a5efa4 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:51:34.164 | INFO     | ReqID:3801303a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:51:35.379 | DEBUG    | ReqID:27c7b6b1 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:51:35.380 | SUCCESS  | ReqID:7cfca8fc | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:51:35.381 | INFO     | ReqID:7e306bfb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:54:52.196 | INFO     | ReqID:4db85b10 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:54:52.298 | INFO     | ReqID:83d12016 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:54:52.298 | INFO     | ReqID:4c6d2bfa | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:54:52.299 | INFO     | ReqID:9e73fffc | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:54:53.226 | DEBUG    | ReqID:a150667d | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:54:53.227 | SUCCESS  | ReqID:74542956 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:54:53.227 | INFO     | ReqID:2c0c6fd9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:54:54.585 | INFO     | ReqID:05715f14 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:54:54.588 | INFO     | ReqID:05715f14 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.003s]
2025-12-11 21:54:54.589 | INFO     | ReqID:05715f14 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:49282 - "GET /docs HTTP/1.1" 200
2025-12-11 21:54:54.867 | INFO     | ReqID:c1df3cd2 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:54:54.874 | INFO     | ReqID:c1df3cd2 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.007s]
2025-12-11 21:54:54.875 | INFO     | ReqID:c1df3cd2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:49282 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 21:55:08.159 | INFO     | ReqID:477950ec | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:55:08.213 | INFO     | ReqID:477950ec | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[200] | Process Time[0.054s]
2025-12-11 21:55:08.214 | INFO     | ReqID:477950ec | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:51712 - "GET /infrastructure/all HTTP/1.1" 200
2025-12-11 21:55:15.217 | INFO     | ReqID:9c99108d | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:55:15.224 | INFO     | ReqID:9c99108d | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.007s]
2025-12-11 21:55:15.225 | INFO     | ReqID:9c99108d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:40012 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:56:19.201 | INFO     | ReqID:cfb5b79d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:56:19.302 | INFO     | ReqID:004378ea | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:56:19.304 | INFO     | ReqID:963097b3 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:56:19.304 | INFO     | ReqID:accfdcb0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:56:19.308 | INFO     | ReqID:c95efefd | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:56:20.082 | DEBUG    | ReqID:50820f8b | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:56:20.083 | SUCCESS  | ReqID:e6cf79e1 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:56:20.083 | INFO     | ReqID:b3e586e3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:56:48.897 | INFO     | ReqID:4287de28 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:56:48.999 | INFO     | ReqID:2a250456 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:56:48.999 | INFO     | ReqID:220160c1 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:56:48.999 | INFO     | ReqID:66832086 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:56:49.704 | DEBUG    | ReqID:f30b46da | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:56:49.705 | SUCCESS  | ReqID:004e73af | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:56:49.706 | INFO     | ReqID:56d42203 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:56:52.186 | INFO     | ReqID:5c152f25 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:56:52.231 | ERROR    | ReqID:5c152f25 | File[services.py] Module[app.domains.infrastructure.services] Function[post_vms] Line[57] | 
    Error fetching data from database:
    list.count() takes exactly one argument (0 given)
2025-12-11 21:56:52.233 | INFO     | ReqID:5c152f25 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[500] | Process Time[0.048s]
2025-12-11 21:56:52.233 | INFO     | ReqID:5c152f25 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:48916 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-11 21:56:57.444 | INFO     | ReqID:baccf277 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:56:57.550 | INFO     | ReqID:9b3f0b79 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:56:57.550 | INFO     | ReqID:6bea104f | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:56:57.551 | INFO     | ReqID:6f8c18ee | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:56:57.552 | INFO     | ReqID:3adcdb6d | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:56:57.553 | SUCCESS  | ReqID:7c50ed46 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:56:57.555 | INFO     | ReqID:e4214aed | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 21:56:58.775 | DEBUG    | ReqID:d079630b | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:56:58.776 | SUCCESS  | ReqID:3c030a11 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:56:58.777 | INFO     | ReqID:4617edcc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:56:59.395 | INFO     | ReqID:8e054034 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:56:59.485 | ERROR    | ReqID:8e054034 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[61] | Method[POST] URL[/infrastructure/vms] | Error Message[[TypeError("'builtin_function_or_method' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]] | Process Time[0.090s]
2025-12-11 21:56:59.486 | INFO     | ReqID:8e054034 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:59714 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-11 21:56:59.491 | ERROR    | ReqID:8e054034 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

Traceback (most recent call last):

  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/encoders.py", line 333, in jsonable_encoder
    data = dict(obj)
                 <built-in method count of list object at 0x73d7b79e0640>

TypeError: 'builtin_function_or_method' object is not iterable


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/encoders.py", line 338, in jsonable_encoder
    data = vars(obj)
                 <built-in method count of list object at 0x73d7b79e0640>

TypeError: vars() argument must have __dict__ attribute


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x73d7baaa5940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x73d7bab7bc40>
            <SpawnProcess name='SpawnProcess-99' parent=7391 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x73d7bab7b1a0>
     <SpawnProcess name='SpawnProcess-99' parent=7391 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x73d7b9eb8800>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-99' parent=7391 started>
                     ()
                 <SpawnProcess name='SpawnProcess-99' parent=7391 started>
         <function subprocess_started at 0x73d7b9d15940>
     <SpawnProcess name='SpawnProcess-99' parent=7391 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x73d7b9d66660>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x73d7b9ea0a40>
                                                                  <uvicorn.config.Config object at 0x73d7b9eb8800>
                                                              <uvicorn.server.Server object at 0x73d7b9d66660>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x73d7b9d14b80>
                       <uvicorn.server.Server object at 0x73d7b9d66660>
            <function run at 0x73d7ba5a2b60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x73d7bab14120>
                  <function Runner.run at 0x73d7ba6062a0>
            <asyncio.runners.Runner object at 0x73d7ba8d5df0>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x73d7ba5ffec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x73d7ba8d5df0>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x73d7ba5ffe20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x73d7ba605c60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x73d7ba58a160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x73d7b7b96cf0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x73d7b79d9070>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x73d7b79d9070>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x73d7b9de53d0>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x73d7b7b96cf0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x73d7b79d9070>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x73d7b79d9070>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x73d7b79d9070>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x73d7b79d9070>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x73d7b8eaff80>
           <fastapi.applications.FastAPI object at 0x73d7b9de53d0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x73d7b79bfba0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x73d7b79d9070>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x73d7b7bd7560>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x73d7b8eaff80>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x73d7b8f7cb80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [ValueError([TypeError("'builtin_function_or_method' object is not iterable...
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x73d7b7ba7ac0>
     <contextlib._GeneratorContextManager object at 0x73d7b79d94c0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x73d7b79bfc40>
                                       <starlette.middleware.base._CachedRequest object at 0x73d7b79d8170>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x73d7b7bd7560>>
                      <app.middleware.logging.LoggingMiddleware object at 0x73d7b7bd7560>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 67, in dispatch
    raise e

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 39, in dispatch
    response: _StreamingResponse = await call_next(request)
                                                   <starlette.middleware.base._CachedRequest object at 0x73d7b79d8170>
                                          <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x73d7b79bfc40>

  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
                                                 <attribute '__context__' of 'BaseException' objects>
                                          ValueError([TypeError("'builtin_function_or_method' object is not iterable"), TypeError('vars() argument must have __dict__ a...
                              <attribute '__cause__' of 'BaseException' objects>
                       ValueError([TypeError("'builtin_function_or_method' object is not iterable"), TypeError('vars() argument must have __dict__ a...
           ValueError([TypeError("'builtin_function_or_method' object is not iterable"), TypeError('vars() argument must have __dict__ a...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
                                              <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x73d7b79eb740>
                        <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x73d7b79e8040>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x73d7b7bd7350>
           <app.middleware.logging.LoggingMiddleware object at 0x73d7b7bd7560>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x73d7b79eb740>
                                                          <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x73d7b79e8040>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x73d7b79d90a0>
                                           <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x73d7b7bd73e0>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x73d7b7bd7350>
           <function wrap_app_handling_exceptions at 0x73d7b8ff2520>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x73d7b7a2e020>
                    <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x73d7b79e8040>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x73d7b7bd73e0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x73d7b7a2e020>
                        <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x73d7b79e8040>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <fastapi.routing.APIRouter object at 0x73d7b7bd65d0>
           <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x73d7b7bd73e0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x73d7b7a2e020>
                                     <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x73d7b79e8040>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x73d7b7bd65d0>>
           <fastapi.routing.APIRouter object at 0x73d7b7bd65d0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x73d7b7a2e020>
                            <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x73d7b79e8040>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x73d7b8ff3ce0>
           APIRoute(path='/infrastructure/vms', name='get_vms', methods=['POST'])
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x73d7b7a2e020>
                        <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x73d7b79e8040>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x73d7b7999620>
           APIRoute(path='/infrastructure/vms', name='get_vms', methods=['POST'])
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x73d7b7a2e020>
                                                         <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x73d7b79e8040>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x73d7b7a0ea20>
                                       <function request_response.<locals>.app.<locals>.app at 0x73d7b7a2e0c0>
           <function wrap_app_handling_exceptions at 0x73d7b8ff2520>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x73d7b7a2e200>
                    <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x73d7b79e8040>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x73d7b7a2e0c0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x73d7b7a0ea20>
                      <function get_request_handler.<locals>.app at 0x73d7b7999440>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 413, in app
    content = await serialize_response(
                     <function serialize_response at 0x73d7b94579c0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 279, in serialize_response
    return jsonable_encoder(response_content)
                            <built-in method count of list object at 0x73d7b79e0640>
            <function jsonable_encoder at 0x73d7b8ff1bc0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    raise ValueError(errors) from e
                      [TypeError("'builtin_function_or_method' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]

ValueError: [TypeError("'builtin_function_or_method' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-12-11 21:57:05.713 | INFO     | ReqID:6dd4925b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:57:05.814 | INFO     | ReqID:b8fdf4f4 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:57:05.815 | INFO     | ReqID:08b64119 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:57:05.815 | INFO     | ReqID:2b280780 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:57:05.816 | INFO     | ReqID:264ddbf0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:57:06.775 | DEBUG    | ReqID:d5675eff | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:57:06.775 | SUCCESS  | ReqID:4f817a85 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:57:06.776 | INFO     | ReqID:82d73eb8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:58:49.137 | INFO     | ReqID:95fb53df | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:58:49.187 | INFO     | ReqID:95fb53df | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.050s]
2025-12-11 21:58:49.188 | INFO     | ReqID:95fb53df | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41208 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:59:27.053 | INFO     | ReqID:4188b173 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:59:27.154 | INFO     | ReqID:8def7d48 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:59:27.157 | INFO     | ReqID:3c0cb8ac | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:59:27.160 | INFO     | ReqID:665cb460 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:59:27.161 | INFO     | ReqID:81634b79 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:59:28.047 | DEBUG    | ReqID:3a45a0e3 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:59:28.048 | SUCCESS  | ReqID:6bd0a4f9 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:59:28.048 | INFO     | ReqID:efee9ffe | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:59:30.298 | INFO     | ReqID:dcd3bccf | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:59:30.359 | INFO     | ReqID:dcd3bccf | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.061s]
2025-12-11 21:59:30.360 | INFO     | ReqID:dcd3bccf | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:60766 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:59:39.301 | INFO     | ReqID:0a20e34f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:59:39.403 | INFO     | ReqID:5fc84323 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:59:39.403 | INFO     | ReqID:1f755919 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:59:39.404 | INFO     | ReqID:e2995795 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:59:39.407 | INFO     | ReqID:6ce8fbf0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 21:59:39.408 | SUCCESS  | ReqID:2e6bb6cd | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 21:59:40.387 | DEBUG    | ReqID:37dfe6fb | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:59:40.388 | SUCCESS  | ReqID:c5fbe89d | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:59:40.389 | INFO     | ReqID:ea3f7fe5 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 21:59:41.384 | INFO     | ReqID:e171dd35 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 21:59:41.477 | INFO     | ReqID:e171dd35 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.092s]
2025-12-11 21:59:41.477 | INFO     | ReqID:e171dd35 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:56498 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 21:59:47.122 | INFO     | ReqID:59c4d3a9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 21:59:47.223 | INFO     | ReqID:aa3b09b6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 21:59:47.225 | INFO     | ReqID:c38aa63f | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 21:59:47.226 | INFO     | ReqID:d959b8c9 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 21:59:48.357 | DEBUG    | ReqID:76c16ab2 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 21:59:48.357 | SUCCESS  | ReqID:dd4b2557 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 21:59:48.358 | INFO     | ReqID:26c99615 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 22:00:10.446 | INFO     | ReqID:0537c732 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 22:00:10.549 | INFO     | ReqID:7ee0a789 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 22:00:10.549 | INFO     | ReqID:159481ee | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 22:00:10.550 | INFO     | ReqID:c5b38c77 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 22:00:10.551 | INFO     | ReqID:1116bbf6 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 22:00:10.552 | SUCCESS  | ReqID:ed6421e0 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 22:00:10.552 | INFO     | ReqID:a739901b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 22:00:10.553 | INFO     | ReqID:e8187365 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [24058]
2025-12-11 22:00:11.258 | DEBUG    | ReqID:5fb9043d | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 22:00:11.258 | SUCCESS  | ReqID:9cafdcf2 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 22:00:11.258 | INFO     | ReqID:7ebb57f8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 22:00:12.472 | INFO     | ReqID:27ae5454 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 22:00:12.546 | INFO     | ReqID:27ae5454 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.073s]
2025-12-11 22:00:12.546 | INFO     | ReqID:27ae5454 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:33984 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 22:02:06.657 | INFO     | ReqID:88e4393d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 22:02:06.758 | INFO     | ReqID:1e6e8a7d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 22:02:06.760 | INFO     | ReqID:d2634db5 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 22:02:06.761 | INFO     | ReqID:ecd83bf3 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 22:02:08.125 | DEBUG    | ReqID:78561590 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 22:02:08.127 | SUCCESS  | ReqID:edc1323d | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 22:02:08.129 | INFO     | ReqID:484aefdf | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 22:02:09.785 | INFO     | ReqID:da5b2a80 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 22:02:09.788 | INFO     | ReqID:da5b2a80 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.003s]
2025-12-11 22:02:09.790 | INFO     | ReqID:da5b2a80 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:47236 - "GET /docs HTTP/1.1" 200
2025-12-11 22:02:10.361 | INFO     | ReqID:30b67bd2 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 22:02:10.377 | INFO     | ReqID:30b67bd2 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.016s]
2025-12-11 22:02:10.379 | INFO     | ReqID:30b67bd2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:47236 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 22:02:18.306 | INFO     | ReqID:10e1a33a | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 22:02:18.358 | INFO     | ReqID:10e1a33a | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[200] | Process Time[0.052s]
2025-12-11 22:02:18.359 | INFO     | ReqID:10e1a33a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:59910 - "GET /infrastructure/all HTTP/1.1" 200
2025-12-11 22:02:38.553 | INFO     | ReqID:86a97590 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 22:02:38.558 | INFO     | ReqID:86a97590 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[200] | Process Time[0.006s]
2025-12-11 22:02:38.559 | INFO     | ReqID:86a97590 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:39180 - "POST /infrastructure/vms HTTP/1.1" 200
2025-12-11 22:08:16.725 | INFO     | ReqID:f2a0c56f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 22:08:16.827 | INFO     | ReqID:31496d13 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 22:08:16.829 | INFO     | ReqID:268e5dac | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 22:08:16.829 | INFO     | ReqID:a0d840ca | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 22:08:16.831 | INFO     | ReqID:d66cd1c8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 22:08:16.831 | SUCCESS  | ReqID:c71c3719 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 22:08:17.525 | DEBUG    | ReqID:dab8e53b | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 22:08:17.525 | SUCCESS  | ReqID:b470a1af | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 22:08:17.526 | INFO     | ReqID:ca8dcbc5 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 22:08:32.182 | INFO     | ReqID:097d5294 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 22:08:32.283 | INFO     | ReqID:8558ff93 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 22:08:32.285 | INFO     | ReqID:39e95e54 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 22:08:32.286 | INFO     | ReqID:f52bcab5 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 22:08:32.977 | DEBUG    | ReqID:8c12ace3 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 22:08:32.977 | SUCCESS  | ReqID:0bd59186 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 22:08:32.977 | INFO     | ReqID:91c37420 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 22:15:41.125 | INFO     | ReqID:dcf1b36a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 22:15:41.226 | INFO     | ReqID:cd56ce38 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 22:15:41.226 | INFO     | ReqID:9fae3599 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 22:15:41.226 | INFO     | ReqID:f29991b5 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 22:15:41.229 | INFO     | ReqID:11a8dcd0 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-11 22:15:41.231 | SUCCESS  | ReqID:0efabb5f | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-11 22:15:41.233 | INFO     | ReqID:848cee57 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-11 22:15:42.447 | DEBUG    | ReqID:f02c9730 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 22:15:42.449 | SUCCESS  | ReqID:d2a6a14c | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 22:15:42.451 | INFO     | ReqID:3d58eb98 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 22:15:51.037 | INFO     | ReqID:d5718ea8 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 22:15:51.040 | INFO     | ReqID:d5718ea8 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.003s]
2025-12-11 22:15:51.041 | INFO     | ReqID:d5718ea8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:45426 - "GET /docs HTTP/1.1" 200
2025-12-11 22:15:51.339 | INFO     | ReqID:6aea27bd | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 22:15:51.349 | INFO     | ReqID:6aea27bd | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.010s]
2025-12-11 22:15:51.350 | INFO     | ReqID:6aea27bd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:45426 - "GET /openapi.json HTTP/1.1" 200
2025-12-11 22:15:54.563 | INFO     | ReqID:72e0d722 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/infrastructure/all] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:145.0) Gecko/20100101 Firefox/145.0]
2025-12-11 22:15:54.610 | ERROR    | ReqID:72e0d722 | File[services.py] Module[app.domains.infrastructure.services] Function[get_all] Line[29] | 
    Error fetching data from database:
    BaseModel.__init__() takes 1 positional argument but 2 were given
2025-12-11 22:15:54.612 | INFO     | ReqID:72e0d722 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/infrastructure/all] | Status[500] | Process Time[0.049s]
2025-12-11 22:15:54.613 | INFO     | ReqID:72e0d722 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:45426 - "GET /infrastructure/all HTTP/1.1" 500
2025-12-11 22:16:10.371 | INFO     | ReqID:85c34ed2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 22:16:10.475 | INFO     | ReqID:ec0d8884 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 22:16:10.476 | INFO     | ReqID:5317c942 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 22:16:10.476 | INFO     | ReqID:a2774c5d | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 22:16:11.283 | DEBUG    | ReqID:1b6744c6 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 22:16:11.284 | SUCCESS  | ReqID:42231df9 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 22:16:11.284 | INFO     | ReqID:03f07a16 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-11 22:32:30.249 | INFO     | ReqID:933a8f89 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-11 22:32:30.350 | INFO     | ReqID:5d1b74a2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-11 22:32:30.351 | INFO     | ReqID:2e17ae2b | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-11 22:32:30.351 | INFO     | ReqID:4ce37165 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-11 22:32:32.248 | DEBUG    | ReqID:600189fb | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-11 22:32:32.249 | SUCCESS  | ReqID:52073962 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-11 22:32:32.250 | INFO     | ReqID:6b573954 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 17:52:40.754 | DEBUG    | ReqID:38f098f6 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 17:52:40.756 | SUCCESS  | ReqID:78626a6b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 17:52:40.757 | INFO     | ReqID:50cb2344 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 18:22:46.883 | INFO     | ReqID:1dfb0afb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 18:22:46.984 | INFO     | ReqID:590e82e0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 18:22:46.984 | INFO     | ReqID:be64c9f7 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 18:22:46.985 | INFO     | ReqID:3fffa9f6 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 18:22:48.164 | DEBUG    | ReqID:e486a7d1 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 18:22:48.165 | SUCCESS  | ReqID:7ec282e9 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 18:22:48.166 | INFO     | ReqID:e9113e58 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 18:36:47.520 | INFO     | ReqID:8b5c1c36 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 18:36:47.621 | INFO     | ReqID:12fb1186 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 18:36:47.623 | INFO     | ReqID:3faa2757 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 18:36:47.623 | INFO     | ReqID:0a2ab1d8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 18:36:47.624 | INFO     | ReqID:bdd0b4cd | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 18:36:47.624 | SUCCESS  | ReqID:b1521368 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 18:36:47.625 | INFO     | ReqID:7c45690d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 18:36:47.625 | INFO     | ReqID:2270fc77 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [13627]
2025-12-18 18:36:48.466 | DEBUG    | ReqID:ca2730f9 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 18:36:48.466 | SUCCESS  | ReqID:9bdd9517 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 18:36:48.467 | INFO     | ReqID:d47c6a79 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 21:34:27.378 | INFO     | ReqID:844afe75 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 21:34:27.479 | INFO     | ReqID:d4f4a0b9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 21:34:27.480 | INFO     | ReqID:ae0a100f | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 21:34:27.480 | INFO     | ReqID:cf78f7e8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 21:34:27.483 | INFO     | ReqID:4779729a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 21:34:28.547 | DEBUG    | ReqID:cd7976e3 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 21:34:28.548 | SUCCESS  | ReqID:1cb25bc5 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 21:34:28.548 | INFO     | ReqID:28873d67 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 21:34:37.986 | INFO     | ReqID:aba8e101 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 21:34:38.087 | INFO     | ReqID:cb12c71d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 21:34:38.088 | INFO     | ReqID:15009c9d | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 21:34:38.088 | INFO     | ReqID:1ab5d51a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 21:34:38.089 | INFO     | ReqID:6dc5fd1a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 21:34:38.089 | SUCCESS  | ReqID:a68f3caa | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 21:34:38.090 | INFO     | ReqID:e5039e72 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 21:34:38.090 | INFO     | ReqID:9e2f9332 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [17978]
2025-12-18 21:34:38.933 | DEBUG    | ReqID:7a2cc637 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 21:34:38.934 | SUCCESS  | ReqID:9976c2dd | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 21:34:38.934 | INFO     | ReqID:bfce5955 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 21:38:52.246 | INFO     | ReqID:27e69dbe | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 21:38:52.376 | INFO     | ReqID:27e69dbe | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:44160 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 21:38:52.379 | ERROR    | ReqID:27e69dbe | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x7c9139e91a90>
  |                      <function create_task_group at 0x7c913c090540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7c913c9f6570>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x7c913ca75460>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7c913c9f6570>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x7c913a8356d0>
    |            <fastapi.applications.FastAPI object at 0x7c913ca75460>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x7c913a877a60>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x7c913a837a70>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x7c913a8356d0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x7c913bc78b80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x7c913a807e00>
    |      <contextlib._GeneratorContextManager object at 0x7c9139e92f90>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7c913a877c40>
    |                                        <starlette.middleware.base._CachedRequest object at 0x7c9139e92420>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7c913a837a70>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x7c913a837a70>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x7c913a83dee0>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x7c913d785940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x7c913d85bc40>
            <SpawnProcess name='SpawnProcess-5' parent=12081 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x7c913d85b1a0>
     <SpawnProcess name='SpawnProcess-5' parent=12081 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x7c913d59d040>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-5' parent=12081 started>
                     ()
                 <SpawnProcess name='SpawnProcess-5' parent=12081 started>
         <function subprocess_started at 0x7c913c9a5940>
     <SpawnProcess name='SpawnProcess-5' parent=12081 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x7c913c9f6870>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x7c913cb94a40>
                                                                  <uvicorn.config.Config object at 0x7c913d59d040>
                                                              <uvicorn.server.Server object at 0x7c913c9f6870>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x7c913c9a4b80>
                       <uvicorn.server.Server object at 0x7c913c9f6870>
            <function run at 0x7c913cd12b60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7c913d7f4120>
                  <function Runner.run at 0x7c913cd762a0>
            <asyncio.runners.Runner object at 0x7c913d856e70>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x7c913cd6fec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7c913d856e70>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7c913cd6fe20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7c913cd75c60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x7c913d542160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7c913c9f6570>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7c913ca75460>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7c913c9f6570>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7c913a8356d0>
           <fastapi.applications.FastAPI object at 0x7c913ca75460>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7c913a877a60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7c9139e92c00>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x7c913a837a70>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7c913a8356d0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x7c913bc78b80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x7c913a807e00>
     <contextlib._GeneratorContextManager object at 0x7c9139e92f90>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7c913a877c40>
                                       <starlette.middleware.base._CachedRequest object at 0x7c9139e92420>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7c913a837a70>>
                      <app.middleware.logging.LoggingMiddleware object at 0x7c913a837a70>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x7c913a83dee0>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-18 21:43:19.644 | INFO     | ReqID:9d801786 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 21:43:19.745 | INFO     | ReqID:f28180fc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 21:43:19.746 | INFO     | ReqID:191f8d49 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 21:43:19.746 | INFO     | ReqID:bea72653 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 21:43:20.618 | DEBUG    | ReqID:34383ff4 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 21:43:20.619 | SUCCESS  | ReqID:e631e092 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 21:43:20.621 | INFO     | ReqID:3c1a6e9e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 21:43:23.816 | INFO     | ReqID:17f228a1 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 21:43:23.899 | INFO     | ReqID:17f228a1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:56124 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 21:43:23.900 | ERROR    | ReqID:17f228a1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x7de4eb629a00>
  |                      <function create_task_group at 0x7de4ecf8c540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7de4edbbf890>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x7de4ed9dd250>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7de4edbbf890>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x7de4eb7cb980>
    |            <fastapi.applications.FastAPI object at 0x7de4ed9dd250>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x7de4eb60fba0>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x7de4eb751fa0>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x7de4eb7cb980>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x7de4ecb74b80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x7de4eb79bed0>
    |      <contextlib._GeneratorContextManager object at 0x7de4eb629970>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7de4eb60fc40>
    |                                        <starlette.middleware.base._CachedRequest object at 0x7de4eb629070>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7de4eb751fa0>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x7de4eb751fa0>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x7de4eb7cdee0>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x7de4ee6e5940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x7de4ee7bfc40>
            <SpawnProcess name='SpawnProcess-6' parent=12081 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x7de4ee7bf1a0>
     <SpawnProcess name='SpawnProcess-6' parent=12081 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x7de4eda8ca10>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-6' parent=12081 started>
                     ()
                 <SpawnProcess name='SpawnProcess-6' parent=12081 started>
         <function subprocess_started at 0x7de4ed90d940>
     <SpawnProcess name='SpawnProcess-6' parent=12081 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x7de4ed95e4e0>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x7de4eda98a40>
                                                                  <uvicorn.config.Config object at 0x7de4eda8ca10>
                                                              <uvicorn.server.Server object at 0x7de4ed95e4e0>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x7de4ed90cb80>
                       <uvicorn.server.Server object at 0x7de4ed95e4e0>
            <function run at 0x7de4ee1deb60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7de4ee758120>
                  <function Runner.run at 0x7de4ee2422a0>
            <asyncio.runners.Runner object at 0x7de4edad0920>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x7de4ee23bec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7de4edad0920>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7de4ee23be20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7de4ee241c60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x7de4ee4a6160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7de4edbbf890>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7de4ed9dd250>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7de4edbbf890>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7de4eb7cb980>
           <fastapi.applications.FastAPI object at 0x7de4ed9dd250>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7de4eb60fba0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7de4eb629520>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x7de4eb751fa0>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7de4eb7cb980>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x7de4ecb74b80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x7de4eb79bed0>
     <contextlib._GeneratorContextManager object at 0x7de4eb629970>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7de4eb60fc40>
                                       <starlette.middleware.base._CachedRequest object at 0x7de4eb629070>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7de4eb751fa0>>
                      <app.middleware.logging.LoggingMiddleware object at 0x7de4eb751fa0>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x7de4eb7cdee0>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-18 21:45:18.165 | INFO     | ReqID:ff034988 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 21:45:18.266 | INFO     | ReqID:9e271df3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 21:45:18.267 | INFO     | ReqID:f4d2a68b | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 21:45:18.267 | INFO     | ReqID:9b51631a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 21:45:18.268 | INFO     | ReqID:c121b33f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 21:45:18.269 | SUCCESS  | ReqID:39680367 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 21:45:18.270 | INFO     | ReqID:5bd823af | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 21:45:18.270 | INFO     | ReqID:2c493fb2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [18398]
2025-12-18 21:45:19.027 | DEBUG    | ReqID:49dbd2f8 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 21:45:19.028 | SUCCESS  | ReqID:653415dd | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 21:45:19.028 | INFO     | ReqID:0872d97b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 21:45:28.510 | INFO     | ReqID:1f0a99ee | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 21:45:28.629 | INFO     | ReqID:1f0a99ee | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:51292 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 21:45:28.631 | ERROR    | ReqID:1f0a99ee | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x7f06961cde50>
  |                      <function create_task_group at 0x7f0697b94540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f06967a9c70>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x7f06985e1580>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f06967a9c70>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f06963d3bc0>
    |            <fastapi.applications.FastAPI object at 0x7f06985e1580>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f06961bfa60>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x7f06969b70e0>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f06963d3bc0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x7f069777cb80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x7f06963a3ed0>
    |      <contextlib._GeneratorContextManager object at 0x7f06961cddc0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f06961bfc40>
    |                                        <starlette.middleware.base._CachedRequest object at 0x7f06961cd100>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7f06969b70e0>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x7f06969b70e0>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x7f06963d9ee0>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x7f06992a9940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x7f069937fc40>
            <SpawnProcess name='SpawnProcess-7' parent=12081 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x7f069937f1a0>
     <SpawnProcess name='SpawnProcess-7' parent=12081 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x7f06986b95e0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-7' parent=12081 started>
                     ()
                 <SpawnProcess name='SpawnProcess-7' parent=12081 started>
         <function subprocess_started at 0x7f0698515940>
     <SpawnProcess name='SpawnProcess-7' parent=12081 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x7f0698566660>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x7f06986a0a40>
                                                                  <uvicorn.config.Config object at 0x7f06986b95e0>
                                                              <uvicorn.server.Server object at 0x7f0698566660>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x7f0698514b80>
                       <uvicorn.server.Server object at 0x7f0698566660>
            <function run at 0x7f0698da2b60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f0699318120>
                  <function Runner.run at 0x7f0698e062a0>
            <asyncio.runners.Runner object at 0x7f0698566510>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x7f0698dffec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f0698566510>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f0698dffe20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f0698e05c60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x7f0698d8e160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f06967a9c70>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f06985e1580>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f06967a9c70>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f06963d3bc0>
           <fastapi.applications.FastAPI object at 0x7f06985e1580>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f06961bfa60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f06961cd910>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x7f06969b70e0>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f06963d3bc0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x7f069777cb80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x7f06963a3ed0>
     <contextlib._GeneratorContextManager object at 0x7f06961cddc0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f06961bfc40>
                                       <starlette.middleware.base._CachedRequest object at 0x7f06961cd100>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7f06969b70e0>>
                      <app.middleware.logging.LoggingMiddleware object at 0x7f06969b70e0>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x7f06963d9ee0>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-18 21:47:21.637 | INFO     | ReqID:e3b6eccd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 21:47:21.741 | INFO     | ReqID:6e402ea6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 21:47:21.743 | INFO     | ReqID:65f86cb0 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 21:47:21.744 | INFO     | ReqID:0131fec4 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 21:47:21.745 | INFO     | ReqID:b6aac2c8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 21:47:23.153 | DEBUG    | ReqID:85a3bd80 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 21:47:23.154 | SUCCESS  | ReqID:a46fd8ff | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 21:47:23.154 | INFO     | ReqID:229255a8 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 21:47:28.705 | INFO     | ReqID:d633b6c2 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 21:47:28.786 | INFO     | ReqID:d633b6c2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:58204 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 21:47:28.787 | ERROR    | ReqID:d633b6c2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x7bf60b28dbe0>
  |                      <function create_task_group at 0x7bf60d494540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7bf60bb9a180>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x7bf60de75460>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7bf60bb9a180>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x7bf60bc33c50>
    |            <fastapi.applications.FastAPI object at 0x7bf60de75460>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x7bf60bc77a60>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x7bf60bc33cb0>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x7bf60bc33c50>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x7bf60d07cb80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x7bf60bc07ed0>
    |      <contextlib._GeneratorContextManager object at 0x7bf60b28db50>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7bf60bc77c40>
    |                                        <starlette.middleware.base._CachedRequest object at 0x7bf60b28cec0>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7bf60bc33cb0>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x7bf60bc33cb0>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x7bf60bc3dee0>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x7bf60eb85940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x7bf60ec5bc40>
            <SpawnProcess name='SpawnProcess-8' parent=12081 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x7bf60ec5b1a0>
     <SpawnProcess name='SpawnProcess-8' parent=12081 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x7bf60e99d040>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-8' parent=12081 started>
                     ()
                 <SpawnProcess name='SpawnProcess-8' parent=12081 started>
         <function subprocess_started at 0x7bf60dda5940>
     <SpawnProcess name='SpawnProcess-8' parent=12081 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x7bf60ddf6870>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x7bf60df94a40>
                                                                  <uvicorn.config.Config object at 0x7bf60e99d040>
                                                              <uvicorn.server.Server object at 0x7bf60ddf6870>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x7bf60dda4b80>
                       <uvicorn.server.Server object at 0x7bf60ddf6870>
            <function run at 0x7bf60e112b60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7bf60ebf4120>
                  <function Runner.run at 0x7bf60e1762a0>
            <asyncio.runners.Runner object at 0x7bf60ec56e70>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x7bf60e16fec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7bf60ec56e70>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7bf60e16fe20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7bf60e175c60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x7bf60e942160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7bf60bb9a180>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7bf60de75460>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7bf60bb9a180>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7bf60bc33c50>
           <fastapi.applications.FastAPI object at 0x7bf60de75460>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7bf60bc77a60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7bf60b28d700>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x7bf60bc33cb0>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7bf60bc33c50>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x7bf60d07cb80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x7bf60bc07ed0>
     <contextlib._GeneratorContextManager object at 0x7bf60b28db50>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7bf60bc77c40>
                                       <starlette.middleware.base._CachedRequest object at 0x7bf60b28cec0>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7bf60bc33cb0>>
                      <app.middleware.logging.LoggingMiddleware object at 0x7bf60bc33cb0>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x7bf60bc3dee0>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-18 21:47:44.854 | INFO     | ReqID:220c4eb7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 21:47:44.958 | INFO     | ReqID:f6e4e14e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 21:47:44.960 | INFO     | ReqID:2d699f7d | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 21:47:44.960 | INFO     | ReqID:3a4ce940 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 21:47:44.962 | INFO     | ReqID:c5546729 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 21:47:46.462 | DEBUG    | ReqID:9e1ce7ca | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 21:47:46.463 | SUCCESS  | ReqID:eabcca7b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 21:47:46.466 | INFO     | ReqID:e0416de2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 21:47:47.881 | INFO     | ReqID:0a12f949 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 21:47:48.012 | ERROR    | ReqID:0a12f949 | File[services.py] Module[app.domains.infrastructure.services] Function[post_vms] Line[63] | 
    Error fetching data from database:
    
2025-12-18 21:47:48.015 | INFO     | ReqID:0a12f949 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[500] | Process Time[0.134s]
2025-12-18 21:47:48.016 | INFO     | ReqID:0a12f949 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:41422 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 22:13:03.862 | INFO     | ReqID:c62920db | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:13:03.963 | INFO     | ReqID:8874853c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:13:03.964 | INFO     | ReqID:3f5d936e | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:13:03.964 | INFO     | ReqID:e65fe1e1 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:13:03.966 | INFO     | ReqID:2702bba4 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:13:03.966 | SUCCESS  | ReqID:7d0ee113 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 22:13:03.968 | INFO     | ReqID:2d6eaf91 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 22:13:03.969 | INFO     | ReqID:82f7743b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [18998]
2025-12-18 22:13:05.198 | DEBUG    | ReqID:3091da85 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:13:05.199 | SUCCESS  | ReqID:fcf593e0 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:13:05.199 | INFO     | ReqID:0a312a5d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:17:53.874 | INFO     | ReqID:b96143cc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:17:53.975 | INFO     | ReqID:a43d9f2d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:17:53.976 | INFO     | ReqID:335bdb87 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:17:53.977 | INFO     | ReqID:decbfbc1 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:17:53.981 | INFO     | ReqID:d03f609c | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:17:55.279 | DEBUG    | ReqID:c9a4ab5a | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:17:55.280 | SUCCESS  | ReqID:294ebbee | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:17:55.280 | INFO     | ReqID:33fea71d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:19:54.016 | INFO     | ReqID:fadbd846 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:19:54.118 | INFO     | ReqID:98384292 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:19:54.118 | INFO     | ReqID:1e6efbcc | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:19:54.118 | INFO     | ReqID:2858c0bc | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:19:55.076 | DEBUG    | ReqID:1d847bcc | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:19:55.076 | SUCCESS  | ReqID:503cb264 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:19:55.077 | INFO     | ReqID:245710b1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:19:57.388 | INFO     | ReqID:5575c6d1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:19:57.489 | INFO     | ReqID:8ad252af | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:19:57.493 | INFO     | ReqID:de56fc33 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:19:57.495 | INFO     | ReqID:5203969e | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:19:57.497 | INFO     | ReqID:93a1dc29 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:19:57.498 | SUCCESS  | ReqID:1ab79e26 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 22:19:59.047 | DEBUG    | ReqID:4d8e4d8e | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:19:59.048 | SUCCESS  | ReqID:b0229689 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:19:59.048 | INFO     | ReqID:07228117 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:20:41.217 | INFO     | ReqID:50128933 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:20:41.321 | INFO     | ReqID:ae54fc0e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:20:41.323 | INFO     | ReqID:a5fe902f | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:20:41.325 | INFO     | ReqID:9a6adff5 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:20:41.325 | INFO     | ReqID:a6805519 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:20:41.326 | SUCCESS  | ReqID:5a3015b7 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 22:20:41.327 | INFO     | ReqID:7d54ecac | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 22:20:41.328 | INFO     | ReqID:8708d56d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [20574]
2025-12-18 22:20:42.413 | DEBUG    | ReqID:f679f309 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:20:42.414 | SUCCESS  | ReqID:0104fef9 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:20:42.414 | INFO     | ReqID:10483573 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:34:32.257 | INFO     | ReqID:5ce6600d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:34:32.361 | INFO     | ReqID:e3391ce3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:34:32.362 | INFO     | ReqID:c964ea67 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:34:32.363 | INFO     | ReqID:d621d1f8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:34:32.368 | INFO     | ReqID:3fd71cd1 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:34:32.370 | SUCCESS  | ReqID:69e857f1 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 22:34:34.716 | DEBUG    | ReqID:61bca168 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:34:34.717 | SUCCESS  | ReqID:3f7ce795 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:34:34.718 | INFO     | ReqID:b80f0ffd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:35:29.451 | INFO     | ReqID:2898cfa1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:35:29.553 | INFO     | ReqID:94b44dbd | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:35:29.554 | INFO     | ReqID:993ceccc | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:35:29.554 | INFO     | ReqID:de77c9f3 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:35:30.266 | DEBUG    | ReqID:c5602789 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:35:30.266 | SUCCESS  | ReqID:45a8fe8b | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:35:30.267 | INFO     | ReqID:6f2d7ac7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:36:03.202 | INFO     | ReqID:18660120 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:36:03.305 | INFO     | ReqID:16df2a17 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:36:03.305 | INFO     | ReqID:3f6f887a | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:36:03.307 | INFO     | ReqID:1be21cca | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:36:03.319 | INFO     | ReqID:4c1cac3c | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:36:03.319 | SUCCESS  | ReqID:2fca2901 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 22:36:03.323 | INFO     | ReqID:65a7582e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 22:36:04.248 | DEBUG    | ReqID:c9a3f454 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:36:04.249 | SUCCESS  | ReqID:d39a4295 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:36:04.250 | INFO     | ReqID:661cc89e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:36:18.607 | INFO     | ReqID:dcbb6f87 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:36:18.709 | INFO     | ReqID:999b679b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:36:18.710 | INFO     | ReqID:750984e6 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:36:18.711 | INFO     | ReqID:9f0af66f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:36:19.795 | DEBUG    | ReqID:87a8f0c0 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:36:19.796 | SUCCESS  | ReqID:8ff2810d | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:36:19.797 | INFO     | ReqID:16ad9884 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:40:36.885 | INFO     | ReqID:a6ba2ea5 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:40:36.986 | INFO     | ReqID:17c0a440 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:40:36.986 | INFO     | ReqID:818848f4 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:40:36.986 | INFO     | ReqID:71d06923 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:40:37.860 | DEBUG    | ReqID:d5626364 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:40:37.860 | SUCCESS  | ReqID:41a93933 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:40:37.861 | INFO     | ReqID:cbb844e6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:40:38.368 | INFO     | ReqID:3e6c5292 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:40:38.468 | INFO     | ReqID:7889ab2c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:40:38.469 | INFO     | ReqID:73001420 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:40:38.469 | INFO     | ReqID:6c942d68 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:40:38.470 | INFO     | ReqID:78d44fe9 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:40:39.318 | DEBUG    | ReqID:742de106 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:40:39.318 | SUCCESS  | ReqID:a6c862df | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:40:39.319 | INFO     | ReqID:bb782685 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:40:42.130 | INFO     | ReqID:0ab599f6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:40:42.232 | INFO     | ReqID:e634984c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:40:42.233 | INFO     | ReqID:8cf7707c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:40:42.234 | INFO     | ReqID:38801cd7 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:40:43.990 | DEBUG    | ReqID:8dfaf8f9 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:40:43.991 | SUCCESS  | ReqID:7c6def54 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:40:43.993 | INFO     | ReqID:eeb14888 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:40:46.807 | INFO     | ReqID:48af639b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:40:46.909 | INFO     | ReqID:b503cb8a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:40:46.913 | INFO     | ReqID:858da97a | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:40:46.913 | INFO     | ReqID:1de49fcb | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:40:46.916 | INFO     | ReqID:015bf828 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:40:46.917 | SUCCESS  | ReqID:8c10fcdc | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 22:40:48.789 | DEBUG    | ReqID:6b884001 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:40:48.790 | SUCCESS  | ReqID:d1e27fa5 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:40:48.790 | INFO     | ReqID:5d1dd1ca | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:43:45.182 | INFO     | ReqID:46fdee08 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:43:45.284 | INFO     | ReqID:5b31c67f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:43:45.285 | INFO     | ReqID:a0e22110 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:43:45.285 | INFO     | ReqID:fa43a314 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:43:46.285 | DEBUG    | ReqID:00b12360 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:43:46.286 | SUCCESS  | ReqID:f68b9c4e | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:43:46.287 | INFO     | ReqID:9fab28f7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:44:13.112 | INFO     | ReqID:11392d8e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:44:13.214 | INFO     | ReqID:dad36e66 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:44:13.215 | INFO     | ReqID:433d73a2 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:44:13.215 | INFO     | ReqID:b8ad391c | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:44:13.216 | INFO     | ReqID:7723960b | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:44:13.218 | SUCCESS  | ReqID:611b3229 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 22:44:13.218 | INFO     | ReqID:f16fa93b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 22:44:14.003 | DEBUG    | ReqID:f294b696 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:44:14.004 | SUCCESS  | ReqID:50746f94 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:44:14.004 | INFO     | ReqID:beee83d2 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:44:46.747 | INFO     | ReqID:f1aa0d2a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:44:46.850 | INFO     | ReqID:8593328d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:44:46.852 | INFO     | ReqID:b092c806 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:44:46.852 | INFO     | ReqID:7648f3df | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:44:47.995 | DEBUG    | ReqID:3ea099ad | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:44:47.996 | SUCCESS  | ReqID:04ae06bc | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:44:47.996 | INFO     | ReqID:f8047db3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:47:49.069 | INFO     | ReqID:9ff96d13 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:47:49.169 | INFO     | ReqID:746e6cf9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:47:49.171 | INFO     | ReqID:848d556d | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:47:49.171 | INFO     | ReqID:22120012 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:47:49.173 | INFO     | ReqID:3ec0a303 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:47:49.174 | SUCCESS  | ReqID:6b737cc7 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 22:47:50.341 | DEBUG    | ReqID:3a5203d5 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:47:50.342 | SUCCESS  | ReqID:4c75a676 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:47:50.342 | INFO     | ReqID:a84bed16 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:53:55.752 | INFO     | ReqID:03ac2a3e | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 22:53:55.853 | INFO     | ReqID:04b15266 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 22:53:55.853 | INFO     | ReqID:9ea80555 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 22:53:55.853 | INFO     | ReqID:a8b05773 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 22:53:55.854 | INFO     | ReqID:16085599 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 22:53:55.854 | SUCCESS  | ReqID:7b590e14 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 22:53:55.855 | INFO     | ReqID:da733468 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 22:53:55.855 | INFO     | ReqID:6456e2e7 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [22530]
2025-12-18 22:53:56.642 | DEBUG    | ReqID:e622b347 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 22:53:56.642 | SUCCESS  | ReqID:3297f198 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 22:53:56.643 | INFO     | ReqID:0f850279 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 22:54:04.338 | INFO     | ReqID:9a333e6b | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 22:54:04.392 | ERROR    | ReqID:9a333e6b | File[services.py] Module[app.domains.infrastructure.services] Function[post_vms] Line[67] | 
    Error fetching data from database:
    2 validation errors for InfrastructureVMsOut
    total_count
      Field required [type=missing, input_value=<app.domains.infrastructu...bject at 0x73239e9db3b0>, input_type=InfrastructureVMs]
        For further information visit https://errors.pydantic.dev/2.12/v/missing
    data
      Field required [type=missing, input_value=<app.domains.infrastructu...bject at 0x73239e9db3b0>, input_type=InfrastructureVMs]
        For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-12-18 22:54:04.394 | INFO     | ReqID:9a333e6b | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[500] | Process Time[0.056s]
2025-12-18 22:54:04.394 | INFO     | ReqID:9a333e6b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:46962 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 22:54:07.685 | INFO     | ReqID:f9f89059 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 22:54:07.687 | INFO     | ReqID:f9f89059 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.002s]
2025-12-18 22:54:07.687 | INFO     | ReqID:f9f89059 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:46962 - "GET /docs HTTP/1.1" 200
2025-12-18 22:54:08.032 | INFO     | ReqID:c8e6c348 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 22:54:08.079 | INFO     | ReqID:c8e6c348 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.047s]
2025-12-18 22:54:08.080 | INFO     | ReqID:c8e6c348 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:46962 - "GET /openapi.json HTTP/1.1" 200
2025-12-18 22:54:12.194 | INFO     | ReqID:22288cef | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 22:54:12.197 | ERROR    | ReqID:22288cef | File[services.py] Module[app.domains.infrastructure.services] Function[post_vms] Line[67] | 
    Error fetching data from database:
    2 validation errors for InfrastructureVMsOut
    total_count
      Field required [type=missing, input_value=<app.domains.infrastructu...bject at 0x73239e8bc140>, input_type=InfrastructureVMs]
        For further information visit https://errors.pydantic.dev/2.12/v/missing
    data
      Field required [type=missing, input_value=<app.domains.infrastructu...bject at 0x73239e8bc140>, input_type=InfrastructureVMs]
        For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-12-18 22:54:12.198 | INFO     | ReqID:22288cef | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[POST] URL[/infrastructure/vms] | Status[500] | Process Time[0.004s]
2025-12-18 22:54:12.199 | INFO     | ReqID:22288cef | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:46962 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 23:00:00.220 | INFO     | ReqID:7eb7a9e3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 23:00:00.322 | INFO     | ReqID:660e97c0 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 23:00:00.322 | INFO     | ReqID:c1d39249 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 23:00:00.323 | INFO     | ReqID:86cef52f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 23:00:28.143 | DEBUG    | ReqID:51f64086 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 23:00:28.144 | SUCCESS  | ReqID:8277badd | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 23:00:28.145 | INFO     | ReqID:57a80f06 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 23:00:59.215 | INFO     | ReqID:6f43125f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 23:00:59.315 | INFO     | ReqID:a195a21c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 23:00:59.318 | INFO     | ReqID:86cdaaaf | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 23:00:59.318 | INFO     | ReqID:ee1e8465 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 23:00:59.321 | INFO     | ReqID:177b07c8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 23:00:59.323 | SUCCESS  | ReqID:bb06cfd4 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 23:00:59.325 | INFO     | ReqID:3c3f8299 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 23:00:59.328 | INFO     | ReqID:85e9560a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Finished server process [23379]
2025-12-18 23:01:00.170 | DEBUG    | ReqID:93cf47cd | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 23:01:00.172 | SUCCESS  | ReqID:79dba314 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 23:01:00.172 | INFO     | ReqID:9753c64d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 23:01:01.480 | INFO     | ReqID:da1b1fcc | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 23:01:01.581 | INFO     | ReqID:c9cbbbe9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 23:01:01.583 | INFO     | ReqID:9bdf9b8e | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 23:01:01.585 | INFO     | ReqID:f13480d8 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 23:01:01.586 | INFO     | ReqID:7aa1d11a | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 23:01:03.179 | DEBUG    | ReqID:05ae82c7 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 23:01:03.180 | SUCCESS  | ReqID:8936fbd1 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 23:01:03.180 | INFO     | ReqID:852feb8d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 23:01:06.652 | INFO     | ReqID:77cfe16c | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 23:01:06.733 | INFO     | ReqID:77cfe16c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:43062 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 23:01:06.735 | ERROR    | ReqID:77cfe16c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x7fb9038d9d90>
  |                      <function create_task_group at 0x7fb905b2c540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb90648c5c0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x7fb9064d92b0>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb90648c5c0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb904293d70>
    |            <fastapi.applications.FastAPI object at 0x7fb9064d92b0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb9042c7a60>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x7fb9047c2f60>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb904293d70>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x7fb905714b80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x7fb904263d30>
    |      <contextlib._GeneratorContextManager object at 0x7fb9038d9d00>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb9042c7c40>
    |                                        <starlette.middleware.base._CachedRequest object at 0x7fb9038d8b30>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7fb9047c2f60>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x7fb9047c2f60>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x7fb90428fe20>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x7fb9071e1940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x7fb9072bbc40>
            <SpawnProcess name='SpawnProcess-32' parent=12081 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x7fb9072bb1a0>
     <SpawnProcess name='SpawnProcess-32' parent=12081 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x7fb906ff8e00>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-32' parent=12081 started>
                     ()
                 <SpawnProcess name='SpawnProcess-32' parent=12081 started>
         <function subprocess_started at 0x7fb906409940>
     <SpawnProcess name='SpawnProcess-32' parent=12081 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x7fb90645a4b0>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x7fb906594a40>
                                                                  <uvicorn.config.Config object at 0x7fb906ff8e00>
                                                              <uvicorn.server.Server object at 0x7fb90645a4b0>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x7fb906408b80>
                       <uvicorn.server.Server object at 0x7fb90645a4b0>
            <function run at 0x7fb906712b60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7fb907254120>
                  <function Runner.run at 0x7fb9067762a0>
            <asyncio.runners.Runner object at 0x7fb906421070>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x7fb90676fec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7fb906421070>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7fb90676fe20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7fb906775c60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x7fb906fa2160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb90648c5c0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7fb9064d92b0>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb90648c5c0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb904293d70>
           <fastapi.applications.FastAPI object at 0x7fb9064d92b0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb9042c7a60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb9038d9880>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x7fb9047c2f60>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb904293d70>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x7fb905714b80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x7fb904263d30>
     <contextlib._GeneratorContextManager object at 0x7fb9038d9d00>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb9042c7c40>
                                       <starlette.middleware.base._CachedRequest object at 0x7fb9038d8b30>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7fb9047c2f60>>
                      <app.middleware.logging.LoggingMiddleware object at 0x7fb9047c2f60>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x7fb90428fe20>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-18 23:02:06.264 | INFO     | ReqID:0e1daead | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 23:02:06.366 | INFO     | ReqID:92387c3b | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 23:02:06.367 | INFO     | ReqID:92645e8c | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 23:02:06.368 | INFO     | ReqID:f3b5b5b5 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 23:02:06.369 | INFO     | ReqID:99c14829 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 23:02:07.067 | DEBUG    | ReqID:87791f4a | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 23:02:07.068 | SUCCESS  | ReqID:8fff3379 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 23:02:07.068 | INFO     | ReqID:5e54119f | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 23:02:40.712 | INFO     | ReqID:64588ed9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 23:02:40.814 | INFO     | ReqID:504c0428 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 23:02:40.815 | INFO     | ReqID:5f311c2d | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 23:02:40.815 | INFO     | ReqID:e1687282 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 23:02:40.817 | INFO     | ReqID:405fda62 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 23:02:40.819 | SUCCESS  | ReqID:57edebab | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 23:02:40.820 | INFO     | ReqID:5e564efb | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 23:04:30.868 | DEBUG    | ReqID:53648865 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 23:04:30.869 | SUCCESS  | ReqID:844ddd06 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 23:04:30.869 | INFO     | ReqID:18d12785 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 23:04:33.187 | INFO     | ReqID:db21c5a6 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/docs] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 23:04:33.190 | INFO     | ReqID:db21c5a6 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/docs] | Status[200] | Process Time[0.003s]
2025-12-18 23:04:33.191 | INFO     | ReqID:db21c5a6 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:44056 - "GET /docs HTTP/1.1" 200
2025-12-18 23:04:33.550 | INFO     | ReqID:1d0d29fe | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[GET] URL[/openapi.json] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 23:04:33.560 | INFO     | ReqID:1d0d29fe | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[43] | Method[GET] URL[/openapi.json] | Status[200] | Process Time[0.010s]
2025-12-18 23:04:33.561 | INFO     | ReqID:1d0d29fe | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:44056 - "GET /openapi.json HTTP/1.1" 200
2025-12-18 23:04:49.811 | INFO     | ReqID:2e52ad50 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 23:04:49.868 | INFO     | ReqID:2e52ad50 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:58082 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 23:04:49.869 | ERROR    | ReqID:2e52ad50 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x7e9953438c20>
  |                      <function create_task_group at 0x7e9954d94540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7e99556f9880>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x7e9955779340>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7e99556f9880>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x7e99535e37a0>
    |            <fastapi.applications.FastAPI object at 0x7e9955779340>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x7e995342df80>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x7e99535e3920>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x7e99535e37a0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x7e995497cb80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x7e99535b3d30>
    |      <contextlib._GeneratorContextManager object at 0x7e9953438620>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7e995342e020>
    |                                        <starlette.middleware.base._CachedRequest object at 0x7e99534387d0>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7e99535e3920>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x7e99535e3920>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x7e99535dfe20>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x7e9956485940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x7e995655bc40>
            <SpawnProcess name='SpawnProcess-1' parent=23878 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x7e995655b1a0>
     <SpawnProcess name='SpawnProcess-1' parent=23878 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x7e995588dbe0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-1' parent=23878 started>
                     ()
                 <SpawnProcess name='SpawnProcess-1' parent=23878 started>
         <function subprocess_started at 0x7e99556a9940>
     <SpawnProcess name='SpawnProcess-1' parent=23878 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x7e99556fa4e0>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x7e9955898a40>
                                                                  <uvicorn.config.Config object at 0x7e995588dbe0>
                                                              <uvicorn.server.Server object at 0x7e99556fa4e0>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x7e99556a8b80>
                       <uvicorn.server.Server object at 0x7e99556fa4e0>
            <function run at 0x7e9955f7ab60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7e99564f4120>
                  <function Runner.run at 0x7e9955fde2a0>
            <asyncio.runners.Runner object at 0x7e995629cf20>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x7e9955fd7ec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7e995629cf20>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7e9955fd7e20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7e9955fddc60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x7e9956242160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7e99556f9880>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7e9955779340>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7e99556f9880>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7e99535e37a0>
           <fastapi.applications.FastAPI object at 0x7e9955779340>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7e995342df80>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7e9953439070>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x7e99535e3920>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7e99535e37a0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x7e995497cb80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x7e99535b3d30>
     <contextlib._GeneratorContextManager object at 0x7e9953438620>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7e995342e020>
                                       <starlette.middleware.base._CachedRequest object at 0x7e99534387d0>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7e99535e3920>>
                      <app.middleware.logging.LoggingMiddleware object at 0x7e99535e3920>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x7e99535dfe20>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-18 23:05:15.973 | INFO     | ReqID:10a6dca3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 23:05:16.076 | INFO     | ReqID:de0157da | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 23:05:16.076 | INFO     | ReqID:c02fb59d | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 23:05:16.077 | INFO     | ReqID:7dc5a3c7 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 23:05:16.079 | INFO     | ReqID:60940429 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 23:05:16.080 | SUCCESS  | ReqID:d7492123 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 23:05:18.472 | DEBUG    | ReqID:8ea3dec1 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 23:05:18.473 | SUCCESS  | ReqID:d4b3bb2f | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 23:05:18.473 | INFO     | ReqID:72970820 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 23:05:19.925 | INFO     | ReqID:496c124a | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 23:05:20.012 | INFO     | ReqID:496c124a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:45924 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 23:05:20.014 | ERROR    | ReqID:496c124a | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x767620cd9bb0>
  |                      <function create_task_group at 0x767622f2c540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x76762388c3e0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x7676238d90d0>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x76762388c3e0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x76762168fd10>
    |            <fastapi.applications.FastAPI object at 0x7676238d90d0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x7676216c3a60>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x76762168fa70>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x76762168fd10>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x767622b14b80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x76762165fd30>
    |      <contextlib._GeneratorContextManager object at 0x767620cd9b20>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7676216c3c40>
    |                                        <starlette.middleware.base._CachedRequest object at 0x767620cd88f0>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x76762168fa70>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x76762168fa70>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x76762168be20>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x7676245e1940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x7676246bbc40>
            <SpawnProcess name='SpawnProcess-2' parent=23878 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x7676246bb1a0>
     <SpawnProcess name='SpawnProcess-2' parent=23878 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x767623989970>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-2' parent=23878 started>
                     ()
                 <SpawnProcess name='SpawnProcess-2' parent=23878 started>
         <function subprocess_started at 0x767623809940>
     <SpawnProcess name='SpawnProcess-2' parent=23878 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x76762385a2d0>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x767623994a40>
                                                                  <uvicorn.config.Config object at 0x767623989970>
                                                              <uvicorn.server.Server object at 0x76762385a2d0>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x767623808b80>
                       <uvicorn.server.Server object at 0x76762385a2d0>
            <function run at 0x767623b12b60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x767624654120>
                  <function Runner.run at 0x767623b762a0>
            <asyncio.runners.Runner object at 0x76762385a0f0>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x767623b6fec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x76762385a0f0>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x767623b6fe20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x767623b75c60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x7676243c6160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x76762388c3e0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7676238d90d0>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x76762388c3e0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x76762168fd10>
           <fastapi.applications.FastAPI object at 0x7676238d90d0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7676216c3a60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x767620cd9700>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x76762168fa70>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x76762168fd10>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x767622b14b80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x76762165fd30>
     <contextlib._GeneratorContextManager object at 0x767620cd9b20>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7676216c3c40>
                                       <starlette.middleware.base._CachedRequest object at 0x767620cd88f0>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x76762168fa70>>
                      <app.middleware.logging.LoggingMiddleware object at 0x76762168fa70>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x76762168be20>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-18 23:06:45.566 | INFO     | ReqID:51ce3415 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 23:06:45.668 | INFO     | ReqID:7903314d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 23:06:45.668 | INFO     | ReqID:57b2eefc | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 23:06:45.668 | INFO     | ReqID:0f8b0446 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 23:06:45.671 | INFO     | ReqID:5266037f | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 23:06:47.061 | DEBUG    | ReqID:e44e89d5 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 23:06:47.062 | SUCCESS  | ReqID:1585cc70 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 23:06:47.062 | INFO     | ReqID:c87313da | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 23:06:52.531 | INFO     | ReqID:0fb82736 | File[logging.py] Module[app.middleware.logging] Function[dispatch] Line[32] | Method[POST] URL[/infrastructure/vms] | Client[127.0.0.1] | User-Agent[Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0]
2025-12-18 23:06:52.589 | INFO     | ReqID:0fb82736 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | 127.0.0.1:54022 - "POST /infrastructure/vms HTTP/1.1" 500
2025-12-18 23:06:52.589 | ERROR    | ReqID:0fb82736 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                                            <anyio._backends._asyncio.TaskGroup object at 0x7d859a699c70>
  |                      <function create_task_group at 0x7d859c098540>
  |                 <module 'anyio' from '/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                     <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d859ca5a990>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                                        <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
    |                                <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
    |                          {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                       <fastapi.applications.FastAPI object at 0x7d859cb950a0>
    |                   <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d859ca5a990>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    |     await super().__call__(scope, receive, send)
    |                                           <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
    |                                   <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
    |                             {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |                                              <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
    |                                      <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
    |                                {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d859a849280>
    |            <fastapi.applications.FastAPI object at 0x7d859cb950a0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |                                 <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d859a683a60>
    |                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
    |                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                <app.middleware.logging.LoggingMiddleware object at 0x7d859a84adb0>
    |            <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d859a849280>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                   <function collapse_excgroups at 0x7d859bc80b80>
    |                       MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |           MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |                  ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
    |             <method 'throw' of 'generator' objects>
    |          <generator object collapse_excgroups at 0x7d859a81bd30>
    |      <contextlib._GeneratorContextManager object at 0x7d859a699be0>
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                                                <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7d859a683c40>
    |                                        <starlette.middleware.base._CachedRequest object at 0x7d859a699280>
    |                           <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7d859a84adb0>>
    |                       <app.middleware.logging.LoggingMiddleware object at 0x7d859a84adb0>
    |
    |   File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    |     logger.error(
    |            <function Logger.error at 0x7d859a847e20>
    |      <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...
    |
    | KeyError: "'type'"
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
                        4
                     7
                <function _main at 0x7d859d771940>
  File "/usr/lib/python3.12/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
                          4
                <function BaseProcess._bootstrap at 0x7d859d847c40>
            <SpawnProcess name='SpawnProcess-3' parent=23878 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
         <function BaseProcess.run at 0x7d859d8471a0>
     <SpawnProcess name='SpawnProcess-3' parent=23878 started>
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
                                 {'config': <uvicorn.config.Config object at 0x7d859cbd4740>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
                             <SpawnProcess name='SpawnProcess-3' parent=23878 started>
                     ()
                 <SpawnProcess name='SpawnProcess-3' parent=23878 started>
         <function subprocess_started at 0x7d859c9ad940>
     <SpawnProcess name='SpawnProcess-3' parent=23878 started>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
                   [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
     <bound method Server.run of <uvicorn.server.Server object at 0x7d859c9fe720>>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
                                                                        <function Config.get_loop_factory at 0x7d859cb9ca40>
                                                                  <uvicorn.config.Config object at 0x7d859cbd4740>
                                                              <uvicorn.server.Server object at 0x7d859c9fe720>
                                        [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
                           <function Server.serve at 0x7d859c9acb80>
                       <uvicorn.server.Server object at 0x7d859c9fe720>
            <function run at 0x7d859cd1ab60>
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d859d7e0120>
                  <function Runner.run at 0x7d859cd7e2a0>
            <asyncio.runners.Runner object at 0x7d859cbbae70>
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python...
                     <function BaseEventLoop.run_until_complete at 0x7d859cd77ec0>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d859cbbae70>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d859cd77e20>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d859cd7dc60>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
           <function Handle._run at 0x7d859cd06160>
     <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup(<Future finished result=None>)>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup(<Future finished result=None>)>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup(<Future finished result=None>)>
> File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d859ca5a990>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d859cb950a0>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d859ca5a990>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d859a849280>
           <fastapi.applications.FastAPI object at 0x7d859cb950a0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d859a683a60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d859a699700>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <app.middleware.logging.LoggingMiddleware object at 0x7d859a84adb0>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d859a849280>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                  <function collapse_excgroups at 0x7d859bc80b80>
                      MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
          MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
                 ExceptionGroup('unhandled errors in a TaskGroup', [KeyError("'type'")])
            <method 'throw' of 'generator' objects>
         <generator object collapse_excgroups at 0x7d859a81bd30>
     <contextlib._GeneratorContextManager object at 0x7d859a699be0>
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/tomas/python_work/projects/p2_fastapi_test/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
                                               <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7d859a683c40>
                                       <starlette.middleware.base._CachedRequest object at 0x7d859a699280>
                          <bound method LoggingMiddleware.dispatch of <app.middleware.logging.LoggingMiddleware object at 0x7d859a84adb0>>
                      <app.middleware.logging.LoggingMiddleware object at 0x7d859a84adb0>

  File "/home/tomas/python_work/projects/p2_fastapi_test/app/middleware/logging.py", line 61, in dispatch
    logger.error(
           <function Logger.error at 0x7d859a847e20>
     <loguru.logger handlers=[(id=1, level=10, sink=<stdout>), (id=2, level=10, sink='/home/tomas/python_work/projects/p2_fastapi_...

KeyError: "'type'"
2025-12-18 23:07:52.733 | INFO     | ReqID:38ddfa54 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 23:07:52.834 | INFO     | ReqID:cca7d71d | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 23:07:52.834 | INFO     | ReqID:04db6b82 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 23:07:52.835 | INFO     | ReqID:1450ac97 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 23:07:56.545 | DEBUG    | ReqID:2dbec2c8 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 23:07:56.545 | SUCCESS  | ReqID:ece6c175 | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 23:07:56.546 | INFO     | ReqID:3eedb018 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
2025-12-18 23:13:41.184 | INFO     | ReqID:04f9eea9 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Shutting down
2025-12-18 23:13:41.285 | INFO     | ReqID:d51b3ae3 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Waiting for application shutdown.
2025-12-18 23:13:41.286 | INFO     | ReqID:2f909673 | File[main.py] Module[app.main] Function[lifespan] Line[22] | Cleaning up resources on app shutdown...
2025-12-18 23:13:41.286 | INFO     | ReqID:2844f092 | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[173] | Shutting down logger...
2025-12-18 23:13:41.288 | INFO     | ReqID:91dd333c | File[logger.py] Module[app.core.logger] Function[shutdown_logger] Line[178] | Logger shutdown complete
2025-12-18 23:13:41.288 | SUCCESS  | ReqID:ebe5cba9 | File[main.py] Module[app.main] Function[lifespan] Line[24] | Resources cleaned up.
2025-12-18 23:13:41.289 | INFO     | ReqID:80b68ae1 | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application shutdown complete.
2025-12-18 23:13:42.324 | DEBUG    | ReqID:acb79192 | File[logger.py] Module[app.core.logger] Function[configure_uvicorn_logging] Line[158] | Uvicorn logging configured to use Loguru.
2025-12-18 23:13:42.325 | SUCCESS  | ReqID:55058f8c | File[main.py] Module[app.main] Function[lifespan] Line[18] | Resources initialized.
2025-12-18 23:13:42.326 | INFO     | ReqID:2d2bc00c | File[__init__.py] Module[logging] Function[callHandlers] Line[1762] | Application startup complete.
